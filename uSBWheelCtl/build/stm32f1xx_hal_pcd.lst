ARM GAS  /tmp/cc1Tfh18.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f1xx_hal_pcd.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.HAL_PCD_Init,"ax",%progbits
  16              		.align	1
  17              		.global	HAL_PCD_Init
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	HAL_PCD_Init:
  24              	.LFB66:
  25              		.file 1 "Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c"
   1:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
   2:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ******************************************************************************
   3:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @file    stm32f1xx_hal_pcd.c
   4:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @version V1.1.1
   6:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @date    12-May-2017
   7:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief   PCD HAL module driver.
   8:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *          This file provides firmware functions to manage the following 
   9:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *          functionalities of the USB Peripheral Controller:
  10:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + Initialization and de-initialization functions
  11:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + IO operation functions
  12:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + Peripheral Control functions 
  13:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *           + Peripheral State functions
  14:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  15:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   @verbatim
  16:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ==============================================================================
  17:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                     ##### How to use this driver #####
  18:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ==============================================================================
  19:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
  20:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       The PCD HAL driver can be used as follows:
  21:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  22:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Declare a PCD_HandleTypeDef handle structure, for example:
  23:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          PCD_HandleTypeDef  hpcd;
  24:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  25:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Fill parameters of Init structure in HCD handle
  26:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  27:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Call HAL_PCD_Init() API to initialize the HCD peripheral (Core, Device core, ...)
  28:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  29:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#) Initialize the PCD low level resources through the HAL_PCD_MspInit() API:
  30:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Enable the PCD/USB Low Level interface clock using the following macro
  31:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               (+++) __HAL_RCC_USB_CLK_ENABLE(); For USB Device FS peripheral available
  32:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                     on STM32F102xx and STM32F103xx devices
  33:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               (+++) __HAL_RCC_USB_OTG_FS_CLK_ENABLE(); For USB OTG FS peripheral available
ARM GAS  /tmp/cc1Tfh18.s 			page 2


  34:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                     on STM32F105xx and STM32F107xx devices 
  35:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  36:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Initialize the related GPIO clocks
  37:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Configure PCD pin-out
  38:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) Configure PCD NVIC interrupt
  39:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  40:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#)Associate the Upper USB device stack to the HAL PCD Driver:
  41:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) hpcd.pData = pdev;
  42:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  43:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      (#)Enable HCD transmission and reception:
  44:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          (##) HAL_PCD_Start();
  45:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  46:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   @endverbatim
  47:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ******************************************************************************
  48:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @attention
  49:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  50:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  51:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  52:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * Redistribution and use in source and binary forms, with or without modification,
  53:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * are permitted provided that the following conditions are met:
  54:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  55:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      this list of conditions and the following disclaimer.
  56:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  57:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      this list of conditions and the following disclaimer in the documentation
  58:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      and/or other materials provided with the distribution.
  59:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  60:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      may be used to endorse or promote products derived from this software
  61:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *      without specific prior written permission.
  62:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  63:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  64:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  65:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  66:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  67:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  68:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  69:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  70:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  71:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  72:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  73:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *
  74:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ******************************************************************************
  75:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
  76:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  77:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Includes ------------------------------------------------------------------*/
  78:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #include "stm32f1xx_hal.h"
  79:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  80:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @addtogroup STM32F1xx_HAL_Driver
  81:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
  82:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
  83:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  84:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  85:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  86:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #ifdef HAL_PCD_MODULE_ENABLED
  87:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  88:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined(STM32F102x6) || defined(STM32F102xB) || \
  89:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     defined(STM32F103x6) || defined(STM32F103xB) || \
  90:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     defined(STM32F103xE) || defined(STM32F103xG) || \
ARM GAS  /tmp/cc1Tfh18.s 			page 3


  91:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     defined(STM32F105xC) || defined(STM32F107xC)
  92:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  93:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD PCD
  94:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief PCD HAL module driver
  95:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
  96:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
  97:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
  98:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private types -------------------------------------------------------------*/
  99:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private variables ---------------------------------------------------------*/
 100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private constants ---------------------------------------------------------*/
 101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private macros ------------------------------------------------------------*/
 102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Private_Macros PCD Private Macros
 103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */ 
 105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #define PCD_MIN(a, b)  (((a) < (b)) ? (a) : (b))
 106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #define PCD_MAX(a, b)  (((a) > (b)) ? (a) : (b))
 107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Private functions ---------------------------------------------------------*/
 112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Private_Functions PCD Private Functions
 113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB_OTG_FS)
 116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_WriteEmptyTxFifo(PCD_HandleTypeDef *hpcd, uint32_t epnum);
 117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB_OTG_FS */
 118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB)
 120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_EP_ISR_Handler(PCD_HandleTypeDef *hpcd);
 121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB */
 122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /* Exported functions --------------------------------------------------------*/
 127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions PCD Exported Functions
 128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group1 Initialization and de-initialization functions 
 132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief    Initialization and Configuration functions 
 133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
 134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
 135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ##### Initialization and de-initialization functions #####
 137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]  This section provides functions allowing to:
 139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
 141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Initializes the PCD according to the specified
 146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *         parameters in the PCD_InitTypeDef and create the associated handle.
 147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
ARM GAS  /tmp/cc1Tfh18.s 			page 4


 148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Init(PCD_HandleTypeDef *hpcd)
 151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
  26              		.loc 1 151 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 16
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 20
  33              		.cfi_offset 4, -20
  34              		.cfi_offset 5, -16
  35              		.cfi_offset 6, -12
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 8BB0     		sub	sp, sp, #44
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 64
  41 0004 06AF     		add	r7, sp, #24
  42              	.LCFI2:
  43              		.cfi_def_cfa 7, 40
  44 0006 7860     		str	r0, [r7, #4]
 152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t index = 0U;
  45              		.loc 1 152 0
  46 0008 0023     		movs	r3, #0
  47 000a FB60     		str	r3, [r7, #12]
 153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(hpcd == NULL)
  48              		.loc 1 155 0
  49 000c 7B68     		ldr	r3, [r7, #4]
  50 000e 002B     		cmp	r3, #0
  51 0010 01D1     		bne	.L2
 156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     return HAL_ERROR;
  52              		.loc 1 157 0
  53 0012 0123     		movs	r3, #1
  54 0014 CAE0     		b	.L3
  55              	.L2:
 158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the parameters */
 161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   assert_param(IS_PCD_ALL_INSTANCE(hpcd->Instance));
 162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(hpcd->State == HAL_PCD_STATE_RESET)
  56              		.loc 1 163 0
  57 0016 7B68     		ldr	r3, [r7, #4]
  58 0018 93F82934 		ldrb	r3, [r3, #1065]
  59 001c DBB2     		uxtb	r3, r3
  60 001e 002B     		cmp	r3, #0
  61 0020 06D1     		bne	.L4
 164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {  
 165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Allocate lock resource and initialize it */
 166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Lock = HAL_UNLOCKED;
  62              		.loc 1 166 0
  63 0022 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 5


  64 0024 0022     		movs	r2, #0
  65 0026 83F82824 		strb	r2, [r3, #1064]
 167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_MspInit(hpcd);
  66              		.loc 1 169 0
  67 002a 7868     		ldr	r0, [r7, #4]
  68 002c FFF7FEFF 		bl	HAL_PCD_MspInit
  69              	.L4:
 170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_BUSY;
  70              		.loc 1 172 0
  71 0030 7B68     		ldr	r3, [r7, #4]
  72 0032 0322     		movs	r2, #3
  73 0034 83F82924 		strb	r2, [r3, #1065]
 173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Disable the Interrupts */
 175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_DISABLE(hpcd);
  74              		.loc 1 175 0
  75 0038 7B68     		ldr	r3, [r7, #4]
  76 003a 1B68     		ldr	r3, [r3]
  77 003c 1846     		mov	r0, r3
  78 003e FFF7FEFF 		bl	USB_DisableGlobalInt
 176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /*Init the Core (common init.) */
 178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_CoreInit(hpcd->Instance, hpcd->Init);
  79              		.loc 1 178 0
  80 0042 7B68     		ldr	r3, [r7, #4]
  81 0044 1B68     		ldr	r3, [r3]
  82 0046 3B60     		str	r3, [r7]
  83 0048 7E68     		ldr	r6, [r7, #4]
  84 004a 6D46     		mov	r5, sp
  85 004c 06F11004 		add	r4, r6, #16
  86 0050 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
  87 0052 0FC5     		stmia	r5!, {r0, r1, r2, r3}
  88 0054 2368     		ldr	r3, [r4]
  89 0056 2B60     		str	r3, [r5]
  90 0058 331D     		adds	r3, r6, #4
  91 005a 0ECB     		ldm	r3, {r1, r2, r3}
  92 005c 3868     		ldr	r0, [r7]
  93 005e FFF7FEFF 		bl	USB_CoreInit
 179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Force Device Mode*/
 181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_SetCurrentMode(hpcd->Instance , USB_DEVICE_MODE);
  94              		.loc 1 181 0
  95 0062 7B68     		ldr	r3, [r7, #4]
  96 0064 1B68     		ldr	r3, [r3]
  97 0066 0021     		movs	r1, #0
  98 0068 1846     		mov	r0, r3
  99 006a FFF7FEFF 		bl	USB_SetCurrentMode
 182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Init endpoints structures */
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   for (index = 0U; index < 15U ; index++)
 100              		.loc 1 184 0
 101 006e 0023     		movs	r3, #0
 102 0070 FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/cc1Tfh18.s 			page 6


 103 0072 37E0     		b	.L5
 104              	.L6:
 185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Init ep structure */
 187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].is_in = 1U;
 105              		.loc 1 187 0 discriminator 3
 106 0074 7A68     		ldr	r2, [r7, #4]
 107 0076 FB68     		ldr	r3, [r7, #12]
 108 0078 5B01     		lsls	r3, r3, #5
 109 007a 1344     		add	r3, r3, r2
 110 007c 2933     		adds	r3, r3, #41
 111 007e 0122     		movs	r2, #1
 112 0080 1A70     		strb	r2, [r3]
 188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].num = index;
 113              		.loc 1 188 0 discriminator 3
 114 0082 FB68     		ldr	r3, [r7, #12]
 115 0084 D9B2     		uxtb	r1, r3
 116 0086 7A68     		ldr	r2, [r7, #4]
 117 0088 FB68     		ldr	r3, [r7, #12]
 118 008a 5B01     		lsls	r3, r3, #5
 119 008c 1344     		add	r3, r3, r2
 120 008e 2833     		adds	r3, r3, #40
 121 0090 0A46     		mov	r2, r1
 122 0092 1A70     		strb	r2, [r3]
 189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].tx_fifo_num = index;
 123              		.loc 1 189 0 discriminator 3
 124 0094 FB68     		ldr	r3, [r7, #12]
 125 0096 99B2     		uxth	r1, r3
 126 0098 7A68     		ldr	r2, [r7, #4]
 127 009a FB68     		ldr	r3, [r7, #12]
 128 009c 5B01     		lsls	r3, r3, #5
 129 009e 1344     		add	r3, r3, r2
 130 00a0 3433     		adds	r3, r3, #52
 131 00a2 0A46     		mov	r2, r1	@ movhi
 132 00a4 1A80     		strh	r2, [r3]	@ movhi
 190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Control until ep is actvated */
 191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].type = EP_TYPE_CTRL;
 133              		.loc 1 191 0 discriminator 3
 134 00a6 7A68     		ldr	r2, [r7, #4]
 135 00a8 FB68     		ldr	r3, [r7, #12]
 136 00aa 5B01     		lsls	r3, r3, #5
 137 00ac 1344     		add	r3, r3, r2
 138 00ae 2B33     		adds	r3, r3, #43
 139 00b0 0022     		movs	r2, #0
 140 00b2 1A70     		strb	r2, [r3]
 192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].maxpacket =  0U;
 141              		.loc 1 192 0 discriminator 3
 142 00b4 7A68     		ldr	r2, [r7, #4]
 143 00b6 FB68     		ldr	r3, [r7, #12]
 144 00b8 5B01     		lsls	r3, r3, #5
 145 00ba 1344     		add	r3, r3, r2
 146 00bc 3833     		adds	r3, r3, #56
 147 00be 0022     		movs	r2, #0
 148 00c0 1A60     		str	r2, [r3]
 193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].xfer_buff = 0U;
 149              		.loc 1 193 0 discriminator 3
 150 00c2 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 7


 151 00c4 FB68     		ldr	r3, [r7, #12]
 152 00c6 5B01     		lsls	r3, r3, #5
 153 00c8 1344     		add	r3, r3, r2
 154 00ca 3C33     		adds	r3, r3, #60
 155 00cc 0022     		movs	r2, #0
 156 00ce 1A60     		str	r2, [r3]
 194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].xfer_len = 0U;
 157              		.loc 1 194 0 discriminator 3
 158 00d0 7A68     		ldr	r2, [r7, #4]
 159 00d2 FB68     		ldr	r3, [r7, #12]
 160 00d4 0233     		adds	r3, r3, #2
 161 00d6 5B01     		lsls	r3, r3, #5
 162 00d8 1344     		add	r3, r3, r2
 163 00da 0022     		movs	r2, #0
 164 00dc 1A60     		str	r2, [r3]
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 165              		.loc 1 184 0 discriminator 3
 166 00de FB68     		ldr	r3, [r7, #12]
 167 00e0 0133     		adds	r3, r3, #1
 168 00e2 FB60     		str	r3, [r7, #12]
 169              	.L5:
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 170              		.loc 1 184 0 is_stmt 0 discriminator 1
 171 00e4 FB68     		ldr	r3, [r7, #12]
 172 00e6 0E2B     		cmp	r3, #14
 173 00e8 C4D9     		bls	.L6
 195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   for (index = 0U; index < 15U ; index++)
 174              		.loc 1 197 0 is_stmt 1
 175 00ea 0023     		movs	r3, #0
 176 00ec FB60     		str	r3, [r7, #12]
 177 00ee 3CE0     		b	.L7
 178              	.L8:
 198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].is_in = 0U;
 179              		.loc 1 199 0 discriminator 3
 180 00f0 7A68     		ldr	r2, [r7, #4]
 181 00f2 FB68     		ldr	r3, [r7, #12]
 182 00f4 5B01     		lsls	r3, r3, #5
 183 00f6 1344     		add	r3, r3, r2
 184 00f8 03F22923 		addw	r3, r3, #553
 185 00fc 0022     		movs	r2, #0
 186 00fe 1A70     		strb	r2, [r3]
 200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].num = index;
 187              		.loc 1 200 0 discriminator 3
 188 0100 FB68     		ldr	r3, [r7, #12]
 189 0102 D9B2     		uxtb	r1, r3
 190 0104 7A68     		ldr	r2, [r7, #4]
 191 0106 FB68     		ldr	r3, [r7, #12]
 192 0108 5B01     		lsls	r3, r3, #5
 193 010a 1344     		add	r3, r3, r2
 194 010c 03F50A73 		add	r3, r3, #552
 195 0110 0A46     		mov	r2, r1
 196 0112 1A70     		strb	r2, [r3]
 201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->IN_ep[index].tx_fifo_num = index;
 197              		.loc 1 201 0 discriminator 3
ARM GAS  /tmp/cc1Tfh18.s 			page 8


 198 0114 FB68     		ldr	r3, [r7, #12]
 199 0116 99B2     		uxth	r1, r3
 200 0118 7A68     		ldr	r2, [r7, #4]
 201 011a FB68     		ldr	r3, [r7, #12]
 202 011c 5B01     		lsls	r3, r3, #5
 203 011e 1344     		add	r3, r3, r2
 204 0120 3433     		adds	r3, r3, #52
 205 0122 0A46     		mov	r2, r1	@ movhi
 206 0124 1A80     		strh	r2, [r3]	@ movhi
 202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Control until ep is activated */
 203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].type = EP_TYPE_CTRL;
 207              		.loc 1 203 0 discriminator 3
 208 0126 7A68     		ldr	r2, [r7, #4]
 209 0128 FB68     		ldr	r3, [r7, #12]
 210 012a 5B01     		lsls	r3, r3, #5
 211 012c 1344     		add	r3, r3, r2
 212 012e 03F22B23 		addw	r3, r3, #555
 213 0132 0022     		movs	r2, #0
 214 0134 1A70     		strb	r2, [r3]
 204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].maxpacket = 0U;
 215              		.loc 1 204 0 discriminator 3
 216 0136 7A68     		ldr	r2, [r7, #4]
 217 0138 FB68     		ldr	r3, [r7, #12]
 218 013a 5B01     		lsls	r3, r3, #5
 219 013c 1344     		add	r3, r3, r2
 220 013e 03F50E73 		add	r3, r3, #568
 221 0142 0022     		movs	r2, #0
 222 0144 1A60     		str	r2, [r3]
 205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].xfer_buff = 0U;
 223              		.loc 1 205 0 discriminator 3
 224 0146 7A68     		ldr	r2, [r7, #4]
 225 0148 FB68     		ldr	r3, [r7, #12]
 226 014a 5B01     		lsls	r3, r3, #5
 227 014c 1344     		add	r3, r3, r2
 228 014e 03F50F73 		add	r3, r3, #572
 229 0152 0022     		movs	r2, #0
 230 0154 1A60     		str	r2, [r3]
 206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->OUT_ep[index].xfer_len = 0U;
 231              		.loc 1 206 0 discriminator 3
 232 0156 7A68     		ldr	r2, [r7, #4]
 233 0158 FB68     		ldr	r3, [r7, #12]
 234 015a 1233     		adds	r3, r3, #18
 235 015c 5B01     		lsls	r3, r3, #5
 236 015e 1344     		add	r3, r3, r2
 237 0160 0022     		movs	r2, #0
 238 0162 1A60     		str	r2, [r3]
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 239              		.loc 1 197 0 discriminator 3
 240 0164 FB68     		ldr	r3, [r7, #12]
 241 0166 0133     		adds	r3, r3, #1
 242 0168 FB60     		str	r3, [r7, #12]
 243              	.L7:
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 244              		.loc 1 197 0 is_stmt 0 discriminator 1
 245 016a FB68     		ldr	r3, [r7, #12]
 246 016c 0E2B     		cmp	r3, #14
 247 016e BFD9     		bls	.L8
ARM GAS  /tmp/cc1Tfh18.s 			page 9


 207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Init Device */
 210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevInit(hpcd->Instance, hpcd->Init);
 248              		.loc 1 210 0 is_stmt 1
 249 0170 7B68     		ldr	r3, [r7, #4]
 250 0172 1B68     		ldr	r3, [r3]
 251 0174 3B60     		str	r3, [r7]
 252 0176 7E68     		ldr	r6, [r7, #4]
 253 0178 6D46     		mov	r5, sp
 254 017a 06F11004 		add	r4, r6, #16
 255 017e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 256 0180 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 257 0182 2368     		ldr	r3, [r4]
 258 0184 2B60     		str	r3, [r5]
 259 0186 331D     		adds	r3, r6, #4
 260 0188 0ECB     		ldm	r3, {r1, r2, r3}
 261 018a 3868     		ldr	r0, [r7]
 262 018c FFF7FEFF 		bl	USB_DevInit
 211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->USB_Address = 0U;
 263              		.loc 1 212 0
 264 0190 7B68     		ldr	r3, [r7, #4]
 265 0192 0022     		movs	r2, #0
 266 0194 83F82420 		strb	r2, [r3, #36]
 213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State= HAL_PCD_STATE_READY;
 267              		.loc 1 213 0
 268 0198 7B68     		ldr	r3, [r7, #4]
 269 019a 0122     		movs	r2, #1
 270 019c 83F82924 		strb	r2, [r3, #1065]
 214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevDisconnect (hpcd->Instance);  
 271              		.loc 1 215 0
 272 01a0 7B68     		ldr	r3, [r7, #4]
 273 01a2 1B68     		ldr	r3, [r3]
 274 01a4 1846     		mov	r0, r3
 275 01a6 FFF7FEFF 		bl	USB_DevDisconnect
 216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 276              		.loc 1 216 0
 277 01aa 0023     		movs	r3, #0
 278              	.L3:
 217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 279              		.loc 1 217 0
 280 01ac 1846     		mov	r0, r3
 281 01ae 1437     		adds	r7, r7, #20
 282              	.LCFI3:
 283              		.cfi_def_cfa_offset 20
 284 01b0 BD46     		mov	sp, r7
 285              	.LCFI4:
 286              		.cfi_def_cfa_register 13
 287              		@ sp needed
 288 01b2 F0BD     		pop	{r4, r5, r6, r7, pc}
 289              		.cfi_endproc
 290              	.LFE66:
 292              		.section	.text.HAL_PCD_DeInit,"ax",%progbits
 293              		.align	1
 294              		.global	HAL_PCD_DeInit
ARM GAS  /tmp/cc1Tfh18.s 			page 10


 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 298              		.fpu softvfp
 300              	HAL_PCD_DeInit:
 301              	.LFB67:
 218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  DeInitializes the PCD peripheral 
 221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DeInit(PCD_HandleTypeDef *hpcd)
 225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 302              		.loc 1 225 0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 8
 305              		@ frame_needed = 1, uses_anonymous_args = 0
 306 0000 80B5     		push	{r7, lr}
 307              	.LCFI5:
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 7, -8
 310              		.cfi_offset 14, -4
 311 0002 82B0     		sub	sp, sp, #8
 312              	.LCFI6:
 313              		.cfi_def_cfa_offset 16
 314 0004 00AF     		add	r7, sp, #0
 315              	.LCFI7:
 316              		.cfi_def_cfa_register 7
 317 0006 7860     		str	r0, [r7, #4]
 226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(hpcd == NULL)
 318              		.loc 1 227 0
 319 0008 7B68     		ldr	r3, [r7, #4]
 320 000a 002B     		cmp	r3, #0
 321 000c 01D1     		bne	.L10
 228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     return HAL_ERROR;
 322              		.loc 1 229 0
 323 000e 0123     		movs	r3, #1
 324 0010 0EE0     		b	.L11
 325              	.L10:
 230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_BUSY;
 326              		.loc 1 232 0
 327 0012 7B68     		ldr	r3, [r7, #4]
 328 0014 0322     		movs	r2, #3
 329 0016 83F82924 		strb	r2, [r3, #1065]
 233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Stop Device */
 235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCD_Stop(hpcd);
 330              		.loc 1 235 0
 331 001a 7868     		ldr	r0, [r7, #4]
 332 001c FFF7FEFF 		bl	HAL_PCD_Stop
 236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* DeInit the low level hardware */
ARM GAS  /tmp/cc1Tfh18.s 			page 11


 238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCD_MspDeInit(hpcd);
 333              		.loc 1 238 0
 334 0020 7868     		ldr	r0, [r7, #4]
 335 0022 FFF7FEFF 		bl	HAL_PCD_MspDeInit
 239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_RESET; 
 336              		.loc 1 240 0
 337 0026 7B68     		ldr	r3, [r7, #4]
 338 0028 0022     		movs	r2, #0
 339 002a 83F82924 		strb	r2, [r3, #1065]
 241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 340              		.loc 1 242 0
 341 002e 0023     		movs	r3, #0
 342              	.L11:
 243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 343              		.loc 1 243 0
 344 0030 1846     		mov	r0, r3
 345 0032 0837     		adds	r7, r7, #8
 346              	.LCFI8:
 347              		.cfi_def_cfa_offset 8
 348 0034 BD46     		mov	sp, r7
 349              	.LCFI9:
 350              		.cfi_def_cfa_register 13
 351              		@ sp needed
 352 0036 80BD     		pop	{r7, pc}
 353              		.cfi_endproc
 354              	.LFE67:
 356              		.section	.text.HAL_PCD_MspInit,"ax",%progbits
 357              		.align	1
 358              		.weak	HAL_PCD_MspInit
 359              		.syntax unified
 360              		.thumb
 361              		.thumb_func
 362              		.fpu softvfp
 364              	HAL_PCD_MspInit:
 365              	.LFB68:
 244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Initializes the PCD MSP.
 247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** __weak void HAL_PCD_MspInit(PCD_HandleTypeDef *hpcd)
 251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 366              		.loc 1 251 0
 367              		.cfi_startproc
 368              		@ args = 0, pretend = 0, frame = 8
 369              		@ frame_needed = 1, uses_anonymous_args = 0
 370              		@ link register save eliminated.
 371 0000 80B4     		push	{r7}
 372              	.LCFI10:
 373              		.cfi_def_cfa_offset 4
 374              		.cfi_offset 7, -4
 375 0002 83B0     		sub	sp, sp, #12
 376              	.LCFI11:
 377              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cc1Tfh18.s 			page 12


 378 0004 00AF     		add	r7, sp, #0
 379              	.LCFI12:
 380              		.cfi_def_cfa_register 7
 381 0006 7860     		str	r0, [r7, #4]
 252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_MspInit could be implemented in the user file
 256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 382              		.loc 1 257 0
 383 0008 00BF     		nop
 384 000a 0C37     		adds	r7, r7, #12
 385              	.LCFI13:
 386              		.cfi_def_cfa_offset 4
 387 000c BD46     		mov	sp, r7
 388              	.LCFI14:
 389              		.cfi_def_cfa_register 13
 390              		@ sp needed
 391 000e 80BC     		pop	{r7}
 392              	.LCFI15:
 393              		.cfi_restore 7
 394              		.cfi_def_cfa_offset 0
 395 0010 7047     		bx	lr
 396              		.cfi_endproc
 397              	.LFE68:
 399              		.section	.text.HAL_PCD_MspDeInit,"ax",%progbits
 400              		.align	1
 401              		.weak	HAL_PCD_MspDeInit
 402              		.syntax unified
 403              		.thumb
 404              		.thumb_func
 405              		.fpu softvfp
 407              	HAL_PCD_MspDeInit:
 408              	.LFB69:
 258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  DeInitializes PCD MSP.
 261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** __weak void HAL_PCD_MspDeInit(PCD_HandleTypeDef *hpcd)
 265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 409              		.loc 1 265 0
 410              		.cfi_startproc
 411              		@ args = 0, pretend = 0, frame = 8
 412              		@ frame_needed = 1, uses_anonymous_args = 0
 413              		@ link register save eliminated.
 414 0000 80B4     		push	{r7}
 415              	.LCFI16:
 416              		.cfi_def_cfa_offset 4
 417              		.cfi_offset 7, -4
 418 0002 83B0     		sub	sp, sp, #12
 419              	.LCFI17:
 420              		.cfi_def_cfa_offset 16
 421 0004 00AF     		add	r7, sp, #0
 422              	.LCFI18:
ARM GAS  /tmp/cc1Tfh18.s 			page 13


 423              		.cfi_def_cfa_register 7
 424 0006 7860     		str	r0, [r7, #4]
 266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_MspDeInit could be implemented in the user file
 270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 425              		.loc 1 271 0
 426 0008 00BF     		nop
 427 000a 0C37     		adds	r7, r7, #12
 428              	.LCFI19:
 429              		.cfi_def_cfa_offset 4
 430 000c BD46     		mov	sp, r7
 431              	.LCFI20:
 432              		.cfi_def_cfa_register 13
 433              		@ sp needed
 434 000e 80BC     		pop	{r7}
 435              	.LCFI21:
 436              		.cfi_restore 7
 437              		.cfi_def_cfa_offset 0
 438 0010 7047     		bx	lr
 439              		.cfi_endproc
 440              	.LFE69:
 442              		.section	.text.HAL_PCD_Start,"ax",%progbits
 443              		.align	1
 444              		.global	HAL_PCD_Start
 445              		.syntax unified
 446              		.thumb
 447              		.thumb_func
 448              		.fpu softvfp
 450              	HAL_PCD_Start:
 451              	.LFB70:
 272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group2 IO operation functions 
 278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief   Data transfers functions 
 279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
 280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
 281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                       ##### IO operation functions #####
 283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
 285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     This subsection provides a set of functions allowing to manage the PCD data 
 286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     transfers.
 287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
 289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Start The USB Device.
 294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
ARM GAS  /tmp/cc1Tfh18.s 			page 14


 296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Start(PCD_HandleTypeDef *hpcd)
 298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 452              		.loc 1 298 0
 453              		.cfi_startproc
 454              		@ args = 0, pretend = 0, frame = 8
 455              		@ frame_needed = 1, uses_anonymous_args = 0
 456 0000 80B5     		push	{r7, lr}
 457              	.LCFI22:
 458              		.cfi_def_cfa_offset 8
 459              		.cfi_offset 7, -8
 460              		.cfi_offset 14, -4
 461 0002 82B0     		sub	sp, sp, #8
 462              	.LCFI23:
 463              		.cfi_def_cfa_offset 16
 464 0004 00AF     		add	r7, sp, #0
 465              	.LCFI24:
 466              		.cfi_def_cfa_register 7
 467 0006 7860     		str	r0, [r7, #4]
 299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 468              		.loc 1 299 0
 469 0008 7B68     		ldr	r3, [r7, #4]
 470 000a 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 471 000e 012B     		cmp	r3, #1
 472 0010 01D1     		bne	.L15
 473              		.loc 1 299 0 is_stmt 0 discriminator 1
 474 0012 0223     		movs	r3, #2
 475 0014 16E0     		b	.L16
 476              	.L15:
 477              		.loc 1 299 0 discriminator 2
 478 0016 7B68     		ldr	r3, [r7, #4]
 479 0018 0122     		movs	r2, #1
 480 001a 83F82824 		strb	r2, [r3, #1064]
 300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 1);
 481              		.loc 1 300 0 is_stmt 1 discriminator 2
 482 001e 0121     		movs	r1, #1
 483 0020 7868     		ldr	r0, [r7, #4]
 484 0022 FFF7FEFF 		bl	HAL_PCDEx_SetConnectionState
 301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevConnect (hpcd->Instance);
 485              		.loc 1 301 0 discriminator 2
 486 0026 7B68     		ldr	r3, [r7, #4]
 487 0028 1B68     		ldr	r3, [r3]
 488 002a 1846     		mov	r0, r3
 489 002c FFF7FEFF 		bl	USB_DevConnect
 302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_ENABLE(hpcd);
 490              		.loc 1 302 0 discriminator 2
 491 0030 7B68     		ldr	r3, [r7, #4]
 492 0032 1B68     		ldr	r3, [r3]
 493 0034 1846     		mov	r0, r3
 494 0036 FFF7FEFF 		bl	USB_EnableGlobalInt
 303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 495              		.loc 1 303 0 discriminator 2
 496 003a 7B68     		ldr	r3, [r7, #4]
 497 003c 0022     		movs	r2, #0
 498 003e 83F82824 		strb	r2, [r3, #1064]
 304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 499              		.loc 1 304 0 discriminator 2
ARM GAS  /tmp/cc1Tfh18.s 			page 15


 500 0042 0023     		movs	r3, #0
 501              	.L16:
 305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 502              		.loc 1 305 0
 503 0044 1846     		mov	r0, r3
 504 0046 0837     		adds	r7, r7, #8
 505              	.LCFI25:
 506              		.cfi_def_cfa_offset 8
 507 0048 BD46     		mov	sp, r7
 508              	.LCFI26:
 509              		.cfi_def_cfa_register 13
 510              		@ sp needed
 511 004a 80BD     		pop	{r7, pc}
 512              		.cfi_endproc
 513              	.LFE70:
 515              		.section	.text.HAL_PCD_Stop,"ax",%progbits
 516              		.align	1
 517              		.global	HAL_PCD_Stop
 518              		.syntax unified
 519              		.thumb
 520              		.thumb_func
 521              		.fpu softvfp
 523              	HAL_PCD_Stop:
 524              	.LFB71:
 306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Stop The USB Device.
 309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Stop(PCD_HandleTypeDef *hpcd)
 313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 525              		.loc 1 313 0
 526              		.cfi_startproc
 527              		@ args = 0, pretend = 0, frame = 8
 528              		@ frame_needed = 1, uses_anonymous_args = 0
 529 0000 80B5     		push	{r7, lr}
 530              	.LCFI27:
 531              		.cfi_def_cfa_offset 8
 532              		.cfi_offset 7, -8
 533              		.cfi_offset 14, -4
 534 0002 82B0     		sub	sp, sp, #8
 535              	.LCFI28:
 536              		.cfi_def_cfa_offset 16
 537 0004 00AF     		add	r7, sp, #0
 538              	.LCFI29:
 539              		.cfi_def_cfa_register 7
 540 0006 7860     		str	r0, [r7, #4]
 314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 541              		.loc 1 314 0
 542 0008 7B68     		ldr	r3, [r7, #4]
 543 000a 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 544 000e 012B     		cmp	r3, #1
 545 0010 01D1     		bne	.L18
 546              		.loc 1 314 0 is_stmt 0 discriminator 1
 547 0012 0223     		movs	r3, #2
 548 0014 17E0     		b	.L19
ARM GAS  /tmp/cc1Tfh18.s 			page 16


 549              	.L18:
 550              		.loc 1 314 0 discriminator 2
 551 0016 7B68     		ldr	r3, [r7, #4]
 552 0018 0122     		movs	r2, #1
 553 001a 83F82824 		strb	r2, [r3, #1064]
 315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_PCD_DISABLE(hpcd);
 554              		.loc 1 315 0 is_stmt 1 discriminator 2
 555 001e 7B68     		ldr	r3, [r7, #4]
 556 0020 1B68     		ldr	r3, [r3]
 557 0022 1846     		mov	r0, r3
 558 0024 FFF7FEFF 		bl	USB_DisableGlobalInt
 316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_StopDevice(hpcd->Instance);
 559              		.loc 1 316 0 discriminator 2
 560 0028 7B68     		ldr	r3, [r7, #4]
 561 002a 1B68     		ldr	r3, [r3]
 562 002c 1846     		mov	r0, r3
 563 002e FFF7FEFF 		bl	USB_StopDevice
 317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevDisconnect (hpcd->Instance);
 564              		.loc 1 317 0 discriminator 2
 565 0032 7B68     		ldr	r3, [r7, #4]
 566 0034 1B68     		ldr	r3, [r3]
 567 0036 1846     		mov	r0, r3
 568 0038 FFF7FEFF 		bl	USB_DevDisconnect
 318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 569              		.loc 1 318 0 discriminator 2
 570 003c 7B68     		ldr	r3, [r7, #4]
 571 003e 0022     		movs	r2, #0
 572 0040 83F82824 		strb	r2, [r3, #1064]
 319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 573              		.loc 1 319 0 discriminator 2
 574 0044 0023     		movs	r3, #0
 575              	.L19:
 320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 576              		.loc 1 320 0
 577 0046 1846     		mov	r0, r3
 578 0048 0837     		adds	r7, r7, #8
 579              	.LCFI30:
 580              		.cfi_def_cfa_offset 8
 581 004a BD46     		mov	sp, r7
 582              	.LCFI31:
 583              		.cfi_def_cfa_register 13
 584              		@ sp needed
 585 004c 80BD     		pop	{r7, pc}
 586              		.cfi_endproc
 587              	.LFE71:
 589              		.section	.text.HAL_PCD_IRQHandler,"ax",%progbits
 590              		.align	1
 591              		.global	HAL_PCD_IRQHandler
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 595              		.fpu softvfp
 597              	HAL_PCD_IRQHandler:
 598              	.LFB72:
 321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB_OTG_FS)
 323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
ARM GAS  /tmp/cc1Tfh18.s 			page 17


 324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  This function handles PCD interrupt request.
 325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** void HAL_PCD_IRQHandler(PCD_HandleTypeDef *hpcd)
 329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_GlobalTypeDef *USBx = hpcd->Instance;
 331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t index = 0U, ep_intr = 0U, epint = 0U, epnum = 0U;
 332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t fifoemptymsk = 0U, temp = 0U;
 333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_EPTypeDef *ep = NULL;
 334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* ensure that we are in device mode */
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (USB_GetMode(hpcd->Instance) == USB_OTG_MODE_DEVICE)
 337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* avoid spurious interrupt */
 339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_IS_INVALID_INTERRUPT(hpcd))
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       return;
 342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_MMIS))
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      /* incorrect mode, acknowledge the interrupt */
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_MMIS);
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_OEPINT))
 351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       epnum = 0U;
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Read in the device interrupt bits */
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       ep_intr = USB_ReadDevAllOutEpInterrupt(hpcd->Instance);
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       while ( ep_intr )
 358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep_intr & 0x1U)
 360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
 361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           epint = USB_ReadDevOutEPInterrupt(hpcd->Instance, epnum);
 362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
 363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DOEPINT_XFRC) == USB_OTG_DOEPINT_XFRC)
 364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_OUT_EP_INTR(epnum, USB_OTG_DOEPINT_XFRC);
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             
 367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             HAL_PCD_DataOutStageCallback(hpcd, epnum);
 368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
 370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DOEPINT_STUP) == USB_OTG_DOEPINT_STUP)
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /* Inform the upper layer that a setup packet is available */
 373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             HAL_PCD_SetupStageCallback(hpcd);
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_OUT_EP_INTR(epnum, USB_OTG_DOEPINT_STUP);
 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
 377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DOEPINT_OTEPDIS) == USB_OTG_DOEPINT_OTEPDIS)
 378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_OUT_EP_INTR(epnum, USB_OTG_DOEPINT_OTEPDIS);
 380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
ARM GAS  /tmp/cc1Tfh18.s 			page 18


 381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
 382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         epnum++;
 383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep_intr >>= 1U;
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_IEPINT))
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Read in the device interrupt bits */
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       ep_intr = USB_ReadDevAllInEpInterrupt(hpcd->Instance);
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       epnum = 0U;
 393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       while ( ep_intr )
 395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep_intr & 0x1U) /* In ITR */
 397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
 398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           epint = USB_ReadDevInEPInterrupt(hpcd->Instance, epnum);
 399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_XFRC) == USB_OTG_DIEPINT_XFRC)
 401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             fifoemptymsk = 0x1U << epnum;
 403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USBx_DEVICE->DIEPEMPMSK &= ~fifoemptymsk;
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             
 405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_XFRC);
 406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             
 407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             HAL_PCD_DataInStageCallback(hpcd, epnum);
 408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_TOC) == USB_OTG_DIEPINT_TOC)
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_TOC);
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_ITTXFE) == USB_OTG_DIEPINT_ITTXFE)
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_ITTXFE);
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_INEPNE) == USB_OTG_DIEPINT_INEPNE)
 418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_INEPNE);
 420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_EPDISD) == USB_OTG_DIEPINT_EPDISD)
 422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             CLEAR_IN_EP_INTR(epnum, USB_OTG_DIEPINT_EPDISD);
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if(( epint & USB_OTG_DIEPINT_TXFE) == USB_OTG_DIEPINT_TXFE)
 426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
 427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             PCD_WriteEmptyTxFifo(hpcd , epnum);
 428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
 429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
 430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         epnum++;
 431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep_intr >>= 1U;
 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Resume Interrupt */
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_WKUINT))
 437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
ARM GAS  /tmp/cc1Tfh18.s 			page 19


 438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      /* Clear the Remote Wake-up signalling */
 439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_RWUSIG;
 440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      HAL_PCD_ResumeCallback(hpcd);
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      
 443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****      __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_WKUINT);
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Suspend Interrupt */
 447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_USBSUSP))
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         HAL_PCD_SuspendCallback(hpcd);
 453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_USBSUSP);
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Reset Interrupt */
 458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_USBRST))
 459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_RWUSIG; 
 461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_FlushTxFifo(hpcd->Instance ,  0x10U);
 462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       for (index = 0U; index < hpcd->Init.dev_endpoints ; index++)
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         USBx_INEP(index)->DIEPINT = 0xFFU;
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         USBx_OUTEP(index)->DOEPINT = 0xFFU;
 467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DAINTMSK |= 0x10001U;
 470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DOEPMSK |= (USB_OTG_DOEPMSK_STUPM | USB_OTG_DOEPMSK_XFRCM | USB_OTG_DOEPMSK_EPDM
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DIEPMSK |= (USB_OTG_DIEPMSK_TOM | USB_OTG_DIEPMSK_XFRCM | USB_OTG_DIEPMSK_EPDM);
 473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Set Default Address to 0 */
 475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USBx_DEVICE->DCFG &= ~USB_OTG_DCFG_DAD;
 476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* setup EP0 to receive SETUP packets */
 478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_EP0_OutStart(hpcd->Instance, (uint8_t *)hpcd->Setup);
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_USBRST);
 481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Enumeration done Interrupt */
 484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_ENUMDNE))
 485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_ActivateSetup(hpcd->Instance);
 487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Instance->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Init.speed            = USB_OTG_SPEED_FULL;
 490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Init.ep0_mps          = USB_OTG_FS_MAX_PACKET_SIZE ;
 491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Instance->GUSBCFG |= (uint32_t)((USBD_FS_TRDT_VALUE << 10U) & USB_OTG_GUSBCFG_TRDT);
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ResetCallback(hpcd);
 494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
ARM GAS  /tmp/cc1Tfh18.s 			page 20


 495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_ENUMDNE);
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle RxQLevel Interrupt */
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_RXFLVL))
 500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_MASK_INTERRUPT(hpcd->Instance, USB_OTG_GINTSTS_RXFLVL);
 502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       temp = USBx->GRXSTSP;
 503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       ep = &hpcd->OUT_ep[temp & USB_OTG_GRXSTSP_EPNUM];
 504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if(((temp & USB_OTG_GRXSTSP_PKTSTS) >> 17U) ==  STS_DATA_UPDT)
 506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if((temp & USB_OTG_GRXSTSP_BCNT) != 0U)
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
 509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           USB_ReadPacket(USBx, ep->xfer_buff, (temp & USB_OTG_GRXSTSP_BCNT) >> 4U);
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_buff += (temp & USB_OTG_GRXSTSP_BCNT) >> 4U;
 511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count += (temp & USB_OTG_GRXSTSP_BCNT) >> 4U;
 512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
 513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       else if (((temp & USB_OTG_GRXSTSP_PKTSTS) >> 17U) ==  STS_SETUP_UPDT)
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         USB_ReadPacket(USBx, (uint8_t *)hpcd->Setup, 8U);
 517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count += (temp & USB_OTG_GRXSTSP_BCNT) >> 4U;
 518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       USB_UNMASK_INTERRUPT(hpcd->Instance, USB_OTG_GINTSTS_RXFLVL);
 520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle SOF Interrupt */
 523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_SOF))
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_SOFCallback(hpcd);
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_SOF);
 527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Incomplete ISO IN Interrupt */
 530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_IISOIXFR))
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ISOINIncompleteCallback(hpcd, epnum);
 533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_IISOIXFR);
 534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Incomplete ISO OUT Interrupt */
 537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_PXFR_INCOMPISOOUT))
 538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ISOOUTIncompleteCallback(hpcd, epnum);
 540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_PXFR_INCOMPISOOUT);
 541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Connection event Interrupt */
 544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_SRQINT))
 545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_ConnectCallback(hpcd);
 547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       __HAL_PCD_CLEAR_FLAG(hpcd, USB_OTG_GINTSTS_SRQINT);
 548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Handle Disconnection event Interrupt */
 551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if(__HAL_PCD_GET_FLAG(hpcd, USB_OTG_GINTSTS_OTGINT))
ARM GAS  /tmp/cc1Tfh18.s 			page 21


 552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       temp = hpcd->Instance->GOTGINT;
 554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
 555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if((temp & USB_OTG_GOTGINT_SEDET) == USB_OTG_GOTGINT_SEDET)
 556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
 557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         HAL_PCD_DisconnectCallback(hpcd);
 558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
 559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       hpcd->Instance->GOTGINT |= temp;
 560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB_OTG_FS */
 564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB)
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  This function handles PCD interrupt request.
 568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** void HAL_PCD_IRQHandler(PCD_HandleTypeDef *hpcd)
 572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** { 
 599              		.loc 1 572 0
 600              		.cfi_startproc
 601              		@ args = 0, pretend = 0, frame = 8
 602              		@ frame_needed = 1, uses_anonymous_args = 0
 603 0000 80B5     		push	{r7, lr}
 604              	.LCFI32:
 605              		.cfi_def_cfa_offset 8
 606              		.cfi_offset 7, -8
 607              		.cfi_offset 14, -4
 608 0002 82B0     		sub	sp, sp, #8
 609              	.LCFI33:
 610              		.cfi_def_cfa_offset 16
 611 0004 00AF     		add	r7, sp, #0
 612              	.LCFI34:
 613              		.cfi_def_cfa_register 7
 614 0006 7860     		str	r0, [r7, #4]
 573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_CTR))
 615              		.loc 1 573 0
 616 0008 7B68     		ldr	r3, [r7, #4]
 617 000a 1B68     		ldr	r3, [r3]
 618 000c 1846     		mov	r0, r3
 619 000e FFF7FEFF 		bl	USB_ReadInterrupts
 620 0012 0346     		mov	r3, r0
 621 0014 03F40043 		and	r3, r3, #32768
 622 0018 B3F5004F 		cmp	r3, #32768
 623 001c 02D1     		bne	.L21
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* servicing of the endpoint correct transfer interrupt */
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* clear of the CTR flag into the sub */
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     PCD_EP_ISR_Handler(hpcd);
 624              		.loc 1 577 0
 625 001e 7868     		ldr	r0, [r7, #4]
 626 0020 FFF7FEFF 		bl	PCD_EP_ISR_Handler
 627              	.L21:
 578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
ARM GAS  /tmp/cc1Tfh18.s 			page 22


 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_RESET))
 628              		.loc 1 580 0
 629 0024 7B68     		ldr	r3, [r7, #4]
 630 0026 1B68     		ldr	r3, [r3]
 631 0028 1846     		mov	r0, r3
 632 002a FFF7FEFF 		bl	USB_ReadInterrupts
 633 002e 0346     		mov	r3, r0
 634 0030 03F48063 		and	r3, r3, #1024
 635 0034 B3F5806F 		cmp	r3, #1024
 636 0038 12D1     		bne	.L22
 581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_RESET);
 637              		.loc 1 582 0
 638 003a 7B68     		ldr	r3, [r7, #4]
 639 003c 1B68     		ldr	r3, [r3]
 640 003e B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 641 0042 9AB2     		uxth	r2, r3
 642 0044 7B68     		ldr	r3, [r7, #4]
 643 0046 1B68     		ldr	r3, [r3]
 644 0048 22F48062 		bic	r2, r2, #1024
 645 004c 92B2     		uxth	r2, r2
 646 004e A3F84420 		strh	r2, [r3, #68]	@ movhi
 583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_ResetCallback(hpcd);
 647              		.loc 1 583 0
 648 0052 7868     		ldr	r0, [r7, #4]
 649 0054 FFF7FEFF 		bl	HAL_PCD_ResetCallback
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_SetAddress(hpcd, 0U);
 650              		.loc 1 584 0
 651 0058 0021     		movs	r1, #0
 652 005a 7868     		ldr	r0, [r7, #4]
 653 005c FFF7FEFF 		bl	HAL_PCD_SetAddress
 654              	.L22:
 585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_PMAOVR))
 655              		.loc 1 587 0
 656 0060 7B68     		ldr	r3, [r7, #4]
 657 0062 1B68     		ldr	r3, [r3]
 658 0064 1846     		mov	r0, r3
 659 0066 FFF7FEFF 		bl	USB_ReadInterrupts
 660 006a 0346     		mov	r3, r0
 661 006c 03F48043 		and	r3, r3, #16384
 662 0070 B3F5804F 		cmp	r3, #16384
 663 0074 0BD1     		bne	.L23
 588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_PMAOVR);    
 664              		.loc 1 589 0
 665 0076 7B68     		ldr	r3, [r7, #4]
 666 0078 1B68     		ldr	r3, [r3]
 667 007a B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 668 007e 9AB2     		uxth	r2, r3
 669 0080 7B68     		ldr	r3, [r7, #4]
 670 0082 1B68     		ldr	r3, [r3]
 671 0084 22F48042 		bic	r2, r2, #16384
 672 0088 92B2     		uxth	r2, r2
 673 008a A3F84420 		strh	r2, [r3, #68]	@ movhi
 674              	.L23:
ARM GAS  /tmp/cc1Tfh18.s 			page 23


 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_ERR))
 675              		.loc 1 591 0
 676 008e 7B68     		ldr	r3, [r7, #4]
 677 0090 1B68     		ldr	r3, [r3]
 678 0092 1846     		mov	r0, r3
 679 0094 FFF7FEFF 		bl	USB_ReadInterrupts
 680 0098 0346     		mov	r3, r0
 681 009a 03F40053 		and	r3, r3, #8192
 682 009e B3F5005F 		cmp	r3, #8192
 683 00a2 0BD1     		bne	.L24
 592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_ERR); 
 684              		.loc 1 593 0
 685 00a4 7B68     		ldr	r3, [r7, #4]
 686 00a6 1B68     		ldr	r3, [r3]
 687 00a8 B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 688 00ac 9AB2     		uxth	r2, r3
 689 00ae 7B68     		ldr	r3, [r7, #4]
 690 00b0 1B68     		ldr	r3, [r3]
 691 00b2 22F40052 		bic	r2, r2, #8192
 692 00b6 92B2     		uxth	r2, r2
 693 00b8 A3F84420 		strh	r2, [r3, #68]	@ movhi
 694              	.L24:
 594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP))
 695              		.loc 1 596 0
 696 00bc 7B68     		ldr	r3, [r7, #4]
 697 00be 1B68     		ldr	r3, [r3]
 698 00c0 1846     		mov	r0, r3
 699 00c2 FFF7FEFF 		bl	USB_ReadInterrupts
 700 00c6 0346     		mov	r3, r0
 701 00c8 03F48053 		and	r3, r3, #4096
 702 00cc B3F5805F 		cmp	r3, #4096
 703 00d0 26D1     		bne	.L25
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR &= ~(USB_CNTR_LP_MODE);
 704              		.loc 1 598 0
 705 00d2 7B68     		ldr	r3, [r7, #4]
 706 00d4 1B68     		ldr	r3, [r3]
 707 00d6 B3F84030 		ldrh	r3, [r3, #64]	@ movhi
 708 00da 9AB2     		uxth	r2, r3
 709 00dc 7B68     		ldr	r3, [r7, #4]
 710 00de 1B68     		ldr	r3, [r3]
 711 00e0 22F00402 		bic	r2, r2, #4
 712 00e4 92B2     		uxth	r2, r2
 713 00e6 A3F84020 		strh	r2, [r3, #64]	@ movhi
 599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR &= ~(USB_CNTR_FSUSP);
 714              		.loc 1 599 0
 715 00ea 7B68     		ldr	r3, [r7, #4]
 716 00ec 1B68     		ldr	r3, [r3]
 717 00ee B3F84030 		ldrh	r3, [r3, #64]	@ movhi
 718 00f2 9AB2     		uxth	r2, r3
 719 00f4 7B68     		ldr	r3, [r7, #4]
 720 00f6 1B68     		ldr	r3, [r3]
 721 00f8 22F00802 		bic	r2, r2, #8
ARM GAS  /tmp/cc1Tfh18.s 			page 24


 722 00fc 92B2     		uxth	r2, r2
 723 00fe A3F84020 		strh	r2, [r3, #64]	@ movhi
 600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_ResumeCallback(hpcd);
 724              		.loc 1 601 0
 725 0102 7868     		ldr	r0, [r7, #4]
 726 0104 FFF7FEFF 		bl	HAL_PCD_ResumeCallback
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_WKUP);     
 727              		.loc 1 603 0
 728 0108 7B68     		ldr	r3, [r7, #4]
 729 010a 1B68     		ldr	r3, [r3]
 730 010c B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 731 0110 9AB2     		uxth	r2, r3
 732 0112 7B68     		ldr	r3, [r7, #4]
 733 0114 1B68     		ldr	r3, [r3]
 734 0116 22F48052 		bic	r2, r2, #4096
 735 011a 92B2     		uxth	r2, r2
 736 011c A3F84420 		strh	r2, [r3, #68]	@ movhi
 737              	.L25:
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_SUSP))
 738              		.loc 1 606 0
 739 0120 7B68     		ldr	r3, [r7, #4]
 740 0122 1B68     		ldr	r3, [r3]
 741 0124 1846     		mov	r0, r3
 742 0126 FFF7FEFF 		bl	USB_ReadInterrupts
 743 012a 0346     		mov	r3, r0
 744 012c 03F40063 		and	r3, r3, #2048
 745 0130 B3F5006F 		cmp	r3, #2048
 746 0134 31D1     		bne	.L26
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   { 
 608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Force low-power mode in the macrocell */
 609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_FSUSP;
 747              		.loc 1 609 0
 748 0136 7B68     		ldr	r3, [r7, #4]
 749 0138 1B68     		ldr	r3, [r3]
 750 013a B3F84030 		ldrh	r3, [r3, #64]	@ movhi
 751 013e 9AB2     		uxth	r2, r3
 752 0140 7B68     		ldr	r3, [r7, #4]
 753 0142 1B68     		ldr	r3, [r3]
 754 0144 42F00802 		orr	r2, r2, #8
 755 0148 92B2     		uxth	r2, r2
 756 014a A3F84020 		strh	r2, [r3, #64]	@ movhi
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* clear of the ISTR bit must be done after setting of CNTR_FSUSP */
 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_SUSP);  
 757              		.loc 1 612 0
 758 014e 7B68     		ldr	r3, [r7, #4]
 759 0150 1B68     		ldr	r3, [r3]
 760 0152 B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 761 0156 9AB2     		uxth	r2, r3
 762 0158 7B68     		ldr	r3, [r7, #4]
 763 015a 1B68     		ldr	r3, [r3]
 764 015c 22F40062 		bic	r2, r2, #2048
 765 0160 92B2     		uxth	r2, r2
ARM GAS  /tmp/cc1Tfh18.s 			page 25


 766 0162 A3F84420 		strh	r2, [r3, #68]	@ movhi
 613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_LP_MODE;
 767              		.loc 1 614 0
 768 0166 7B68     		ldr	r3, [r7, #4]
 769 0168 1B68     		ldr	r3, [r3]
 770 016a B3F84030 		ldrh	r3, [r3, #64]	@ movhi
 771 016e 9AB2     		uxth	r2, r3
 772 0170 7B68     		ldr	r3, [r7, #4]
 773 0172 1B68     		ldr	r3, [r3]
 774 0174 42F00402 		orr	r2, r2, #4
 775 0178 92B2     		uxth	r2, r2
 776 017a A3F84020 		strh	r2, [r3, #64]	@ movhi
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP) == 0U)
 777              		.loc 1 615 0
 778 017e 7B68     		ldr	r3, [r7, #4]
 779 0180 1B68     		ldr	r3, [r3]
 780 0182 1846     		mov	r0, r3
 781 0184 FFF7FEFF 		bl	USB_ReadInterrupts
 782 0188 0346     		mov	r3, r0
 783 018a 03F48053 		and	r3, r3, #4096
 784 018e B3F5805F 		cmp	r3, #4096
 785 0192 02D0     		beq	.L26
 616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
 617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       HAL_PCD_SuspendCallback(hpcd);
 786              		.loc 1 617 0
 787 0194 7868     		ldr	r0, [r7, #4]
 788 0196 FFF7FEFF 		bl	HAL_PCD_SuspendCallback
 789              	.L26:
 618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_SOF))
 790              		.loc 1 621 0
 791 019a 7B68     		ldr	r3, [r7, #4]
 792 019c 1B68     		ldr	r3, [r3]
 793 019e 1846     		mov	r0, r3
 794 01a0 FFF7FEFF 		bl	USB_ReadInterrupts
 795 01a4 0346     		mov	r3, r0
 796 01a6 03F40073 		and	r3, r3, #512
 797 01aa B3F5007F 		cmp	r3, #512
 798 01ae 0ED1     		bne	.L27
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_SOF); 
 799              		.loc 1 623 0
 800 01b0 7B68     		ldr	r3, [r7, #4]
 801 01b2 1B68     		ldr	r3, [r3]
 802 01b4 B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 803 01b8 9AB2     		uxth	r2, r3
 804 01ba 7B68     		ldr	r3, [r7, #4]
 805 01bc 1B68     		ldr	r3, [r3]
 806 01be 22F40072 		bic	r2, r2, #512
 807 01c2 92B2     		uxth	r2, r2
 808 01c4 A3F84420 		strh	r2, [r3, #68]	@ movhi
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     HAL_PCD_SOFCallback(hpcd);
 809              		.loc 1 624 0
 810 01c8 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 26


 811 01ca FFF7FEFF 		bl	HAL_PCD_SOFCallback
 812              	.L27:
 625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_ESOF))
 813              		.loc 1 627 0
 814 01ce 7B68     		ldr	r3, [r7, #4]
 815 01d0 1B68     		ldr	r3, [r3]
 816 01d2 1846     		mov	r0, r3
 817 01d4 FFF7FEFF 		bl	USB_ReadInterrupts
 818 01d8 0346     		mov	r3, r0
 819 01da 03F48073 		and	r3, r3, #256
 820 01de B3F5807F 		cmp	r3, #256
 821 01e2 0BD1     		bne	.L29
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* clear ESOF flag in ISTR */
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_ESOF); 
 822              		.loc 1 630 0
 823 01e4 7B68     		ldr	r3, [r7, #4]
 824 01e6 1B68     		ldr	r3, [r3]
 825 01e8 B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 826 01ec 9AB2     		uxth	r2, r3
 827 01ee 7B68     		ldr	r3, [r7, #4]
 828 01f0 1B68     		ldr	r3, [r3]
 829 01f2 22F48072 		bic	r2, r2, #256
 830 01f6 92B2     		uxth	r2, r2
 831 01f8 A3F84420 		strh	r2, [r3, #68]	@ movhi
 832              	.L29:
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 833              		.loc 1 632 0
 834 01fc 00BF     		nop
 835 01fe 0837     		adds	r7, r7, #8
 836              	.LCFI35:
 837              		.cfi_def_cfa_offset 8
 838 0200 BD46     		mov	sp, r7
 839              	.LCFI36:
 840              		.cfi_def_cfa_register 13
 841              		@ sp needed
 842 0202 80BD     		pop	{r7, pc}
 843              		.cfi_endproc
 844              	.LFE72:
 846              		.section	.text.HAL_PCD_DataOutStageCallback,"ax",%progbits
 847              		.align	1
 848              		.weak	HAL_PCD_DataOutStageCallback
 849              		.syntax unified
 850              		.thumb
 851              		.thumb_func
 852              		.fpu softvfp
 854              	HAL_PCD_DataOutStageCallback:
 855              	.LFB73:
 633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB */
 634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Data out stage callbacks
 637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
ARM GAS  /tmp/cc1Tfh18.s 			page 27


 639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 856              		.loc 1 642 0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 8
 859              		@ frame_needed = 1, uses_anonymous_args = 0
 860              		@ link register save eliminated.
 861 0000 80B4     		push	{r7}
 862              	.LCFI37:
 863              		.cfi_def_cfa_offset 4
 864              		.cfi_offset 7, -4
 865 0002 83B0     		sub	sp, sp, #12
 866              	.LCFI38:
 867              		.cfi_def_cfa_offset 16
 868 0004 00AF     		add	r7, sp, #0
 869              	.LCFI39:
 870              		.cfi_def_cfa_register 7
 871 0006 7860     		str	r0, [r7, #4]
 872 0008 0B46     		mov	r3, r1
 873 000a FB70     		strb	r3, [r7, #3]
 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_DataOutStageCallback could be implemented in the user file
 648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 874              		.loc 1 649 0
 875 000c 00BF     		nop
 876 000e 0C37     		adds	r7, r7, #12
 877              	.LCFI40:
 878              		.cfi_def_cfa_offset 4
 879 0010 BD46     		mov	sp, r7
 880              	.LCFI41:
 881              		.cfi_def_cfa_register 13
 882              		@ sp needed
 883 0012 80BC     		pop	{r7}
 884              	.LCFI42:
 885              		.cfi_restore 7
 886              		.cfi_def_cfa_offset 0
 887 0014 7047     		bx	lr
 888              		.cfi_endproc
 889              	.LFE73:
 891              		.section	.text.HAL_PCD_DataInStageCallback,"ax",%progbits
 892              		.align	1
 893              		.weak	HAL_PCD_DataInStageCallback
 894              		.syntax unified
 895              		.thumb
 896              		.thumb_func
 897              		.fpu softvfp
 899              	HAL_PCD_DataInStageCallback:
 900              	.LFB74:
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Data IN stage callbacks
ARM GAS  /tmp/cc1Tfh18.s 			page 28


 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 901              		.loc 1 658 0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 8
 904              		@ frame_needed = 1, uses_anonymous_args = 0
 905              		@ link register save eliminated.
 906 0000 80B4     		push	{r7}
 907              	.LCFI43:
 908              		.cfi_def_cfa_offset 4
 909              		.cfi_offset 7, -4
 910 0002 83B0     		sub	sp, sp, #12
 911              	.LCFI44:
 912              		.cfi_def_cfa_offset 16
 913 0004 00AF     		add	r7, sp, #0
 914              	.LCFI45:
 915              		.cfi_def_cfa_register 7
 916 0006 7860     		str	r0, [r7, #4]
 917 0008 0B46     		mov	r3, r1
 918 000a FB70     		strb	r3, [r7, #3]
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_DataInStageCallback could be implemented in the user file
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 919              		.loc 1 665 0
 920 000c 00BF     		nop
 921 000e 0C37     		adds	r7, r7, #12
 922              	.LCFI46:
 923              		.cfi_def_cfa_offset 4
 924 0010 BD46     		mov	sp, r7
 925              	.LCFI47:
 926              		.cfi_def_cfa_register 13
 927              		@ sp needed
 928 0012 80BC     		pop	{r7}
 929              	.LCFI48:
 930              		.cfi_restore 7
 931              		.cfi_def_cfa_offset 0
 932 0014 7047     		bx	lr
 933              		.cfi_endproc
 934              	.LFE74:
 936              		.section	.text.HAL_PCD_SetupStageCallback,"ax",%progbits
 937              		.align	1
 938              		.weak	HAL_PCD_SetupStageCallback
 939              		.syntax unified
 940              		.thumb
 941              		.thumb_func
 942              		.fpu softvfp
 944              	HAL_PCD_SetupStageCallback:
 945              	.LFB75:
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
ARM GAS  /tmp/cc1Tfh18.s 			page 29


 667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Setup stage callback
 668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
 672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 946              		.loc 1 672 0
 947              		.cfi_startproc
 948              		@ args = 0, pretend = 0, frame = 8
 949              		@ frame_needed = 1, uses_anonymous_args = 0
 950              		@ link register save eliminated.
 951 0000 80B4     		push	{r7}
 952              	.LCFI49:
 953              		.cfi_def_cfa_offset 4
 954              		.cfi_offset 7, -4
 955 0002 83B0     		sub	sp, sp, #12
 956              	.LCFI50:
 957              		.cfi_def_cfa_offset 16
 958 0004 00AF     		add	r7, sp, #0
 959              	.LCFI51:
 960              		.cfi_def_cfa_register 7
 961 0006 7860     		str	r0, [r7, #4]
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_SetupStageCallback could be implemented in the user file
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 962              		.loc 1 678 0
 963 0008 00BF     		nop
 964 000a 0C37     		adds	r7, r7, #12
 965              	.LCFI52:
 966              		.cfi_def_cfa_offset 4
 967 000c BD46     		mov	sp, r7
 968              	.LCFI53:
 969              		.cfi_def_cfa_register 13
 970              		@ sp needed
 971 000e 80BC     		pop	{r7}
 972              	.LCFI54:
 973              		.cfi_restore 7
 974              		.cfi_def_cfa_offset 0
 975 0010 7047     		bx	lr
 976              		.cfi_endproc
 977              	.LFE75:
 979              		.section	.text.HAL_PCD_SOFCallback,"ax",%progbits
 980              		.align	1
 981              		.weak	HAL_PCD_SOFCallback
 982              		.syntax unified
 983              		.thumb
 984              		.thumb_func
 985              		.fpu softvfp
 987              	HAL_PCD_SOFCallback:
 988              	.LFB76:
 679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  USB Start Of Frame callbacks
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
ARM GAS  /tmp/cc1Tfh18.s 			page 30


 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_SOFCallback(PCD_HandleTypeDef *hpcd)
 686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 989              		.loc 1 686 0
 990              		.cfi_startproc
 991              		@ args = 0, pretend = 0, frame = 8
 992              		@ frame_needed = 1, uses_anonymous_args = 0
 993              		@ link register save eliminated.
 994 0000 80B4     		push	{r7}
 995              	.LCFI55:
 996              		.cfi_def_cfa_offset 4
 997              		.cfi_offset 7, -4
 998 0002 83B0     		sub	sp, sp, #12
 999              	.LCFI56:
 1000              		.cfi_def_cfa_offset 16
 1001 0004 00AF     		add	r7, sp, #0
 1002              	.LCFI57:
 1003              		.cfi_def_cfa_register 7
 1004 0006 7860     		str	r0, [r7, #4]
 687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_SOFCallback could be implemented in the user file
 691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1005              		.loc 1 692 0
 1006 0008 00BF     		nop
 1007 000a 0C37     		adds	r7, r7, #12
 1008              	.LCFI58:
 1009              		.cfi_def_cfa_offset 4
 1010 000c BD46     		mov	sp, r7
 1011              	.LCFI59:
 1012              		.cfi_def_cfa_register 13
 1013              		@ sp needed
 1014 000e 80BC     		pop	{r7}
 1015              	.LCFI60:
 1016              		.cfi_restore 7
 1017              		.cfi_def_cfa_offset 0
 1018 0010 7047     		bx	lr
 1019              		.cfi_endproc
 1020              	.LFE76:
 1022              		.section	.text.HAL_PCD_ResetCallback,"ax",%progbits
 1023              		.align	1
 1024              		.weak	HAL_PCD_ResetCallback
 1025              		.syntax unified
 1026              		.thumb
 1027              		.thumb_func
 1028              		.fpu softvfp
 1030              	HAL_PCD_ResetCallback:
 1031              	.LFB77:
 693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  USB Reset callbacks
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
ARM GAS  /tmp/cc1Tfh18.s 			page 31


 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
 700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1032              		.loc 1 700 0
 1033              		.cfi_startproc
 1034              		@ args = 0, pretend = 0, frame = 8
 1035              		@ frame_needed = 1, uses_anonymous_args = 0
 1036              		@ link register save eliminated.
 1037 0000 80B4     		push	{r7}
 1038              	.LCFI61:
 1039              		.cfi_def_cfa_offset 4
 1040              		.cfi_offset 7, -4
 1041 0002 83B0     		sub	sp, sp, #12
 1042              	.LCFI62:
 1043              		.cfi_def_cfa_offset 16
 1044 0004 00AF     		add	r7, sp, #0
 1045              	.LCFI63:
 1046              		.cfi_def_cfa_register 7
 1047 0006 7860     		str	r0, [r7, #4]
 701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ResetCallback could be implemented in the user file
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1048              		.loc 1 706 0
 1049 0008 00BF     		nop
 1050 000a 0C37     		adds	r7, r7, #12
 1051              	.LCFI64:
 1052              		.cfi_def_cfa_offset 4
 1053 000c BD46     		mov	sp, r7
 1054              	.LCFI65:
 1055              		.cfi_def_cfa_register 13
 1056              		@ sp needed
 1057 000e 80BC     		pop	{r7}
 1058              	.LCFI66:
 1059              		.cfi_restore 7
 1060              		.cfi_def_cfa_offset 0
 1061 0010 7047     		bx	lr
 1062              		.cfi_endproc
 1063              	.LFE77:
 1065              		.section	.text.HAL_PCD_SuspendCallback,"ax",%progbits
 1066              		.align	1
 1067              		.weak	HAL_PCD_SuspendCallback
 1068              		.syntax unified
 1069              		.thumb
 1070              		.thumb_func
 1071              		.fpu softvfp
 1073              	HAL_PCD_SuspendCallback:
 1074              	.LFB78:
 707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Suspend event callbacks
 710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_SuspendCallback(PCD_HandleTypeDef *hpcd)
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
ARM GAS  /tmp/cc1Tfh18.s 			page 32


 1075              		.loc 1 714 0
 1076              		.cfi_startproc
 1077              		@ args = 0, pretend = 0, frame = 8
 1078              		@ frame_needed = 1, uses_anonymous_args = 0
 1079              		@ link register save eliminated.
 1080 0000 80B4     		push	{r7}
 1081              	.LCFI67:
 1082              		.cfi_def_cfa_offset 4
 1083              		.cfi_offset 7, -4
 1084 0002 83B0     		sub	sp, sp, #12
 1085              	.LCFI68:
 1086              		.cfi_def_cfa_offset 16
 1087 0004 00AF     		add	r7, sp, #0
 1088              	.LCFI69:
 1089              		.cfi_def_cfa_register 7
 1090 0006 7860     		str	r0, [r7, #4]
 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_SuspendCallback could be implemented in the user file
 719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1091              		.loc 1 720 0
 1092 0008 00BF     		nop
 1093 000a 0C37     		adds	r7, r7, #12
 1094              	.LCFI70:
 1095              		.cfi_def_cfa_offset 4
 1096 000c BD46     		mov	sp, r7
 1097              	.LCFI71:
 1098              		.cfi_def_cfa_register 13
 1099              		@ sp needed
 1100 000e 80BC     		pop	{r7}
 1101              	.LCFI72:
 1102              		.cfi_restore 7
 1103              		.cfi_def_cfa_offset 0
 1104 0010 7047     		bx	lr
 1105              		.cfi_endproc
 1106              	.LFE78:
 1108              		.section	.text.HAL_PCD_ResumeCallback,"ax",%progbits
 1109              		.align	1
 1110              		.weak	HAL_PCD_ResumeCallback
 1111              		.syntax unified
 1112              		.thumb
 1113              		.thumb_func
 1114              		.fpu softvfp
 1116              	HAL_PCD_ResumeCallback:
 1117              	.LFB79:
 721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Resume event callbacks
 724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ResumeCallback(PCD_HandleTypeDef *hpcd)
 728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1118              		.loc 1 728 0
 1119              		.cfi_startproc
ARM GAS  /tmp/cc1Tfh18.s 			page 33


 1120              		@ args = 0, pretend = 0, frame = 8
 1121              		@ frame_needed = 1, uses_anonymous_args = 0
 1122              		@ link register save eliminated.
 1123 0000 80B4     		push	{r7}
 1124              	.LCFI73:
 1125              		.cfi_def_cfa_offset 4
 1126              		.cfi_offset 7, -4
 1127 0002 83B0     		sub	sp, sp, #12
 1128              	.LCFI74:
 1129              		.cfi_def_cfa_offset 16
 1130 0004 00AF     		add	r7, sp, #0
 1131              	.LCFI75:
 1132              		.cfi_def_cfa_register 7
 1133 0006 7860     		str	r0, [r7, #4]
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ResumeCallback could be implemented in the user file
 733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1134              		.loc 1 734 0
 1135 0008 00BF     		nop
 1136 000a 0C37     		adds	r7, r7, #12
 1137              	.LCFI76:
 1138              		.cfi_def_cfa_offset 4
 1139 000c BD46     		mov	sp, r7
 1140              	.LCFI77:
 1141              		.cfi_def_cfa_register 13
 1142              		@ sp needed
 1143 000e 80BC     		pop	{r7}
 1144              	.LCFI78:
 1145              		.cfi_restore 7
 1146              		.cfi_def_cfa_offset 0
 1147 0010 7047     		bx	lr
 1148              		.cfi_endproc
 1149              	.LFE79:
 1151              		.section	.text.HAL_PCD_ISOOUTIncompleteCallback,"ax",%progbits
 1152              		.align	1
 1153              		.weak	HAL_PCD_ISOOUTIncompleteCallback
 1154              		.syntax unified
 1155              		.thumb
 1156              		.thumb_func
 1157              		.fpu softvfp
 1159              	HAL_PCD_ISOOUTIncompleteCallback:
 1160              	.LFB80:
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Incomplete ISO OUT callbacks
 738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ISOOUTIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1161              		.loc 1 743 0
 1162              		.cfi_startproc
 1163              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/cc1Tfh18.s 			page 34


 1164              		@ frame_needed = 1, uses_anonymous_args = 0
 1165              		@ link register save eliminated.
 1166 0000 80B4     		push	{r7}
 1167              	.LCFI79:
 1168              		.cfi_def_cfa_offset 4
 1169              		.cfi_offset 7, -4
 1170 0002 83B0     		sub	sp, sp, #12
 1171              	.LCFI80:
 1172              		.cfi_def_cfa_offset 16
 1173 0004 00AF     		add	r7, sp, #0
 1174              	.LCFI81:
 1175              		.cfi_def_cfa_register 7
 1176 0006 7860     		str	r0, [r7, #4]
 1177 0008 0B46     		mov	r3, r1
 1178 000a FB70     		strb	r3, [r7, #3]
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ISOOUTIncompleteCallback could be implemented in the user file
 749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1179              		.loc 1 750 0
 1180 000c 00BF     		nop
 1181 000e 0C37     		adds	r7, r7, #12
 1182              	.LCFI82:
 1183              		.cfi_def_cfa_offset 4
 1184 0010 BD46     		mov	sp, r7
 1185              	.LCFI83:
 1186              		.cfi_def_cfa_register 13
 1187              		@ sp needed
 1188 0012 80BC     		pop	{r7}
 1189              	.LCFI84:
 1190              		.cfi_restore 7
 1191              		.cfi_def_cfa_offset 0
 1192 0014 7047     		bx	lr
 1193              		.cfi_endproc
 1194              	.LFE80:
 1196              		.section	.text.HAL_PCD_ISOINIncompleteCallback,"ax",%progbits
 1197              		.align	1
 1198              		.weak	HAL_PCD_ISOINIncompleteCallback
 1199              		.syntax unified
 1200              		.thumb
 1201              		.thumb_func
 1202              		.fpu softvfp
 1204              	HAL_PCD_ISOINIncompleteCallback:
 1205              	.LFB81:
 751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Incomplete ISO IN  callbacks
 754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum: endpoint number
 756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ISOINIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1206              		.loc 1 759 0
ARM GAS  /tmp/cc1Tfh18.s 			page 35


 1207              		.cfi_startproc
 1208              		@ args = 0, pretend = 0, frame = 8
 1209              		@ frame_needed = 1, uses_anonymous_args = 0
 1210              		@ link register save eliminated.
 1211 0000 80B4     		push	{r7}
 1212              	.LCFI85:
 1213              		.cfi_def_cfa_offset 4
 1214              		.cfi_offset 7, -4
 1215 0002 83B0     		sub	sp, sp, #12
 1216              	.LCFI86:
 1217              		.cfi_def_cfa_offset 16
 1218 0004 00AF     		add	r7, sp, #0
 1219              	.LCFI87:
 1220              		.cfi_def_cfa_register 7
 1221 0006 7860     		str	r0, [r7, #4]
 1222 0008 0B46     		mov	r3, r1
 1223 000a FB70     		strb	r3, [r7, #3]
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(epnum);
 763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ISOINIncompleteCallback could be implemented in the user file
 765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1224              		.loc 1 766 0
 1225 000c 00BF     		nop
 1226 000e 0C37     		adds	r7, r7, #12
 1227              	.LCFI88:
 1228              		.cfi_def_cfa_offset 4
 1229 0010 BD46     		mov	sp, r7
 1230              	.LCFI89:
 1231              		.cfi_def_cfa_register 13
 1232              		@ sp needed
 1233 0012 80BC     		pop	{r7}
 1234              	.LCFI90:
 1235              		.cfi_restore 7
 1236              		.cfi_def_cfa_offset 0
 1237 0014 7047     		bx	lr
 1238              		.cfi_endproc
 1239              	.LFE81:
 1241              		.section	.text.HAL_PCD_ConnectCallback,"ax",%progbits
 1242              		.align	1
 1243              		.weak	HAL_PCD_ConnectCallback
 1244              		.syntax unified
 1245              		.thumb
 1246              		.thumb_func
 1247              		.fpu softvfp
 1249              	HAL_PCD_ConnectCallback:
 1250              	.LFB82:
 767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Connection event callbacks
 770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_ConnectCallback(PCD_HandleTypeDef *hpcd)
 774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
ARM GAS  /tmp/cc1Tfh18.s 			page 36


 1251              		.loc 1 774 0
 1252              		.cfi_startproc
 1253              		@ args = 0, pretend = 0, frame = 8
 1254              		@ frame_needed = 1, uses_anonymous_args = 0
 1255              		@ link register save eliminated.
 1256 0000 80B4     		push	{r7}
 1257              	.LCFI91:
 1258              		.cfi_def_cfa_offset 4
 1259              		.cfi_offset 7, -4
 1260 0002 83B0     		sub	sp, sp, #12
 1261              	.LCFI92:
 1262              		.cfi_def_cfa_offset 16
 1263 0004 00AF     		add	r7, sp, #0
 1264              	.LCFI93:
 1265              		.cfi_def_cfa_register 7
 1266 0006 7860     		str	r0, [r7, #4]
 775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_ConnectCallback could be implemented in the user file
 779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1267              		.loc 1 780 0
 1268 0008 00BF     		nop
 1269 000a 0C37     		adds	r7, r7, #12
 1270              	.LCFI94:
 1271              		.cfi_def_cfa_offset 4
 1272 000c BD46     		mov	sp, r7
 1273              	.LCFI95:
 1274              		.cfi_def_cfa_register 13
 1275              		@ sp needed
 1276 000e 80BC     		pop	{r7}
 1277              	.LCFI96:
 1278              		.cfi_restore 7
 1279              		.cfi_def_cfa_offset 0
 1280 0010 7047     		bx	lr
 1281              		.cfi_endproc
 1282              	.LFE82:
 1284              		.section	.text.HAL_PCD_DisconnectCallback,"ax",%progbits
 1285              		.align	1
 1286              		.weak	HAL_PCD_DisconnectCallback
 1287              		.syntax unified
 1288              		.thumb
 1289              		.thumb_func
 1290              		.fpu softvfp
 1292              	HAL_PCD_DisconnectCallback:
 1293              	.LFB83:
 781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Disconnection event callbacks
 784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval None
 786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  __weak void HAL_PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1294              		.loc 1 788 0
 1295              		.cfi_startproc
ARM GAS  /tmp/cc1Tfh18.s 			page 37


 1296              		@ args = 0, pretend = 0, frame = 8
 1297              		@ frame_needed = 1, uses_anonymous_args = 0
 1298              		@ link register save eliminated.
 1299 0000 80B4     		push	{r7}
 1300              	.LCFI97:
 1301              		.cfi_def_cfa_offset 4
 1302              		.cfi_offset 7, -4
 1303 0002 83B0     		sub	sp, sp, #12
 1304              	.LCFI98:
 1305              		.cfi_def_cfa_offset 16
 1306 0004 00AF     		add	r7, sp, #0
 1307              	.LCFI99:
 1308              		.cfi_def_cfa_register 7
 1309 0006 7860     		str	r0, [r7, #4]
 789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   UNUSED(hpcd);
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             the HAL_PCD_DisconnectCallback could be implemented in the user file
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****    */
 794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1310              		.loc 1 794 0
 1311 0008 00BF     		nop
 1312 000a 0C37     		adds	r7, r7, #12
 1313              	.LCFI100:
 1314              		.cfi_def_cfa_offset 4
 1315 000c BD46     		mov	sp, r7
 1316              	.LCFI101:
 1317              		.cfi_def_cfa_register 13
 1318              		@ sp needed
 1319 000e 80BC     		pop	{r7}
 1320              	.LCFI102:
 1321              		.cfi_restore 7
 1322              		.cfi_def_cfa_offset 0
 1323 0010 7047     		bx	lr
 1324              		.cfi_endproc
 1325              	.LFE83:
 1327              		.section	.text.HAL_PCD_DevConnect,"ax",%progbits
 1328              		.align	1
 1329              		.global	HAL_PCD_DevConnect
 1330              		.syntax unified
 1331              		.thumb
 1332              		.thumb_func
 1333              		.fpu softvfp
 1335              	HAL_PCD_DevConnect:
 1336              	.LFB84:
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group3 Peripheral Control functions
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief   management functions
 802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
 803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                       ##### Peripheral Control functions #####
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================  
ARM GAS  /tmp/cc1Tfh18.s 			page 38


 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     This subsection provides a set of functions allowing to control the PCD data 
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     transfers.
 810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Connect the USB device
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DevConnect(PCD_HandleTypeDef *hpcd)
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1337              		.loc 1 821 0
 1338              		.cfi_startproc
 1339              		@ args = 0, pretend = 0, frame = 8
 1340              		@ frame_needed = 1, uses_anonymous_args = 0
 1341 0000 80B5     		push	{r7, lr}
 1342              	.LCFI103:
 1343              		.cfi_def_cfa_offset 8
 1344              		.cfi_offset 7, -8
 1345              		.cfi_offset 14, -4
 1346 0002 82B0     		sub	sp, sp, #8
 1347              	.LCFI104:
 1348              		.cfi_def_cfa_offset 16
 1349 0004 00AF     		add	r7, sp, #0
 1350              	.LCFI105:
 1351              		.cfi_def_cfa_register 7
 1352 0006 7860     		str	r0, [r7, #4]
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1353              		.loc 1 822 0
 1354 0008 7B68     		ldr	r3, [r7, #4]
 1355 000a 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 1356 000e 012B     		cmp	r3, #1
 1357 0010 01D1     		bne	.L42
 1358              		.loc 1 822 0 is_stmt 0 discriminator 1
 1359 0012 0223     		movs	r3, #2
 1360 0014 11E0     		b	.L43
 1361              	.L42:
 1362              		.loc 1 822 0 discriminator 2
 1363 0016 7B68     		ldr	r3, [r7, #4]
 1364 0018 0122     		movs	r2, #1
 1365 001a 83F82824 		strb	r2, [r3, #1064]
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 1);
 1366              		.loc 1 823 0 is_stmt 1 discriminator 2
 1367 001e 0121     		movs	r1, #1
 1368 0020 7868     		ldr	r0, [r7, #4]
 1369 0022 FFF7FEFF 		bl	HAL_PCDEx_SetConnectionState
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevConnect(hpcd->Instance);
 1370              		.loc 1 824 0 discriminator 2
 1371 0026 7B68     		ldr	r3, [r7, #4]
 1372 0028 1B68     		ldr	r3, [r3]
 1373 002a 1846     		mov	r0, r3
 1374 002c FFF7FEFF 		bl	USB_DevConnect
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
ARM GAS  /tmp/cc1Tfh18.s 			page 39


 1375              		.loc 1 825 0 discriminator 2
 1376 0030 7B68     		ldr	r3, [r7, #4]
 1377 0032 0022     		movs	r2, #0
 1378 0034 83F82824 		strb	r2, [r3, #1064]
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 1379              		.loc 1 826 0 discriminator 2
 1380 0038 0023     		movs	r3, #0
 1381              	.L43:
 827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1382              		.loc 1 827 0
 1383 003a 1846     		mov	r0, r3
 1384 003c 0837     		adds	r7, r7, #8
 1385              	.LCFI106:
 1386              		.cfi_def_cfa_offset 8
 1387 003e BD46     		mov	sp, r7
 1388              	.LCFI107:
 1389              		.cfi_def_cfa_register 13
 1390              		@ sp needed
 1391 0040 80BD     		pop	{r7, pc}
 1392              		.cfi_endproc
 1393              	.LFE84:
 1395              		.section	.text.HAL_PCD_DevDisconnect,"ax",%progbits
 1396              		.align	1
 1397              		.global	HAL_PCD_DevDisconnect
 1398              		.syntax unified
 1399              		.thumb
 1400              		.thumb_func
 1401              		.fpu softvfp
 1403              	HAL_PCD_DevDisconnect:
 1404              	.LFB85:
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Disconnect the USB device
 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DevDisconnect(PCD_HandleTypeDef *hpcd)
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1405              		.loc 1 835 0
 1406              		.cfi_startproc
 1407              		@ args = 0, pretend = 0, frame = 8
 1408              		@ frame_needed = 1, uses_anonymous_args = 0
 1409 0000 80B5     		push	{r7, lr}
 1410              	.LCFI108:
 1411              		.cfi_def_cfa_offset 8
 1412              		.cfi_offset 7, -8
 1413              		.cfi_offset 14, -4
 1414 0002 82B0     		sub	sp, sp, #8
 1415              	.LCFI109:
 1416              		.cfi_def_cfa_offset 16
 1417 0004 00AF     		add	r7, sp, #0
 1418              	.LCFI110:
 1419              		.cfi_def_cfa_register 7
 1420 0006 7860     		str	r0, [r7, #4]
 836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1421              		.loc 1 836 0
 1422 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 40


 1423 000a 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 1424 000e 012B     		cmp	r3, #1
 1425 0010 01D1     		bne	.L45
 1426              		.loc 1 836 0 is_stmt 0 discriminator 1
 1427 0012 0223     		movs	r3, #2
 1428 0014 11E0     		b	.L46
 1429              	.L45:
 1430              		.loc 1 836 0 discriminator 2
 1431 0016 7B68     		ldr	r3, [r7, #4]
 1432 0018 0122     		movs	r2, #1
 1433 001a 83F82824 		strb	r2, [r3, #1064]
 837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_PCDEx_SetConnectionState (hpcd, 0U);
 1434              		.loc 1 837 0 is_stmt 1 discriminator 2
 1435 001e 0021     		movs	r1, #0
 1436 0020 7868     		ldr	r0, [r7, #4]
 1437 0022 FFF7FEFF 		bl	HAL_PCDEx_SetConnectionState
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DevDisconnect(hpcd->Instance);
 1438              		.loc 1 838 0 discriminator 2
 1439 0026 7B68     		ldr	r3, [r7, #4]
 1440 0028 1B68     		ldr	r3, [r3]
 1441 002a 1846     		mov	r0, r3
 1442 002c FFF7FEFF 		bl	USB_DevDisconnect
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 1443              		.loc 1 839 0 discriminator 2
 1444 0030 7B68     		ldr	r3, [r7, #4]
 1445 0032 0022     		movs	r2, #0
 1446 0034 83F82824 		strb	r2, [r3, #1064]
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 1447              		.loc 1 840 0 discriminator 2
 1448 0038 0023     		movs	r3, #0
 1449              	.L46:
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1450              		.loc 1 841 0
 1451 003a 1846     		mov	r0, r3
 1452 003c 0837     		adds	r7, r7, #8
 1453              	.LCFI111:
 1454              		.cfi_def_cfa_offset 8
 1455 003e BD46     		mov	sp, r7
 1456              	.LCFI112:
 1457              		.cfi_def_cfa_register 13
 1458              		@ sp needed
 1459 0040 80BD     		pop	{r7, pc}
 1460              		.cfi_endproc
 1461              	.LFE85:
 1463              		.section	.text.HAL_PCD_SetAddress,"ax",%progbits
 1464              		.align	1
 1465              		.global	HAL_PCD_SetAddress
 1466              		.syntax unified
 1467              		.thumb
 1468              		.thumb_func
 1469              		.fpu softvfp
 1471              	HAL_PCD_SetAddress:
 1472              	.LFB86:
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Set the USB Device address
 845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
ARM GAS  /tmp/cc1Tfh18.s 			page 41


 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  address: new device address
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_SetAddress(PCD_HandleTypeDef *hpcd, uint8_t address)
 850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1473              		.loc 1 850 0
 1474              		.cfi_startproc
 1475              		@ args = 0, pretend = 0, frame = 8
 1476              		@ frame_needed = 1, uses_anonymous_args = 0
 1477 0000 80B5     		push	{r7, lr}
 1478              	.LCFI113:
 1479              		.cfi_def_cfa_offset 8
 1480              		.cfi_offset 7, -8
 1481              		.cfi_offset 14, -4
 1482 0002 82B0     		sub	sp, sp, #8
 1483              	.LCFI114:
 1484              		.cfi_def_cfa_offset 16
 1485 0004 00AF     		add	r7, sp, #0
 1486              	.LCFI115:
 1487              		.cfi_def_cfa_register 7
 1488 0006 7860     		str	r0, [r7, #4]
 1489 0008 0B46     		mov	r3, r1
 1490 000a FB70     		strb	r3, [r7, #3]
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1491              		.loc 1 851 0
 1492 000c 7B68     		ldr	r3, [r7, #4]
 1493 000e 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 1494 0012 012B     		cmp	r3, #1
 1495 0014 01D1     		bne	.L48
 1496              		.loc 1 851 0 is_stmt 0 discriminator 1
 1497 0016 0223     		movs	r3, #2
 1498 0018 13E0     		b	.L49
 1499              	.L48:
 1500              		.loc 1 851 0 discriminator 2
 1501 001a 7B68     		ldr	r3, [r7, #4]
 1502 001c 0122     		movs	r2, #1
 1503 001e 83F82824 		strb	r2, [r3, #1064]
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   hpcd->USB_Address = address;
 1504              		.loc 1 852 0 is_stmt 1 discriminator 2
 1505 0022 7B68     		ldr	r3, [r7, #4]
 1506 0024 FA78     		ldrb	r2, [r7, #3]
 1507 0026 83F82420 		strb	r2, [r3, #36]
 853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_SetDevAddress(hpcd->Instance, address);
 1508              		.loc 1 853 0 discriminator 2
 1509 002a 7B68     		ldr	r3, [r7, #4]
 1510 002c 1B68     		ldr	r3, [r3]
 1511 002e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1512 0030 1146     		mov	r1, r2
 1513 0032 1846     		mov	r0, r3
 1514 0034 FFF7FEFF 		bl	USB_SetDevAddress
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 1515              		.loc 1 854 0 discriminator 2
 1516 0038 7B68     		ldr	r3, [r7, #4]
 1517 003a 0022     		movs	r2, #0
 1518 003c 83F82824 		strb	r2, [r3, #1064]
 855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 1519              		.loc 1 855 0 discriminator 2
ARM GAS  /tmp/cc1Tfh18.s 			page 42


 1520 0040 0023     		movs	r3, #0
 1521              	.L49:
 856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1522              		.loc 1 856 0
 1523 0042 1846     		mov	r0, r3
 1524 0044 0837     		adds	r7, r7, #8
 1525              	.LCFI116:
 1526              		.cfi_def_cfa_offset 8
 1527 0046 BD46     		mov	sp, r7
 1528              	.LCFI117:
 1529              		.cfi_def_cfa_register 13
 1530              		@ sp needed
 1531 0048 80BD     		pop	{r7, pc}
 1532              		.cfi_endproc
 1533              	.LFE86:
 1535              		.section	.text.HAL_PCD_EP_Open,"ax",%progbits
 1536              		.align	1
 1537              		.global	HAL_PCD_EP_Open
 1538              		.syntax unified
 1539              		.thumb
 1540              		.thumb_func
 1541              		.fpu softvfp
 1543              	HAL_PCD_EP_Open:
 1544              	.LFB87:
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Open and configure an endpoint
 859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_mps: endpoint max packet size
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_type: endpoint type   
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Open(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint16_t ep_mps, uint8_
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1545              		.loc 1 866 0
 1546              		.cfi_startproc
 1547              		@ args = 0, pretend = 0, frame = 16
 1548              		@ frame_needed = 1, uses_anonymous_args = 0
 1549 0000 80B5     		push	{r7, lr}
 1550              	.LCFI118:
 1551              		.cfi_def_cfa_offset 8
 1552              		.cfi_offset 7, -8
 1553              		.cfi_offset 14, -4
 1554 0002 84B0     		sub	sp, sp, #16
 1555              	.LCFI119:
 1556              		.cfi_def_cfa_offset 24
 1557 0004 00AF     		add	r7, sp, #0
 1558              	.LCFI120:
 1559              		.cfi_def_cfa_register 7
 1560 0006 7860     		str	r0, [r7, #4]
 1561 0008 0846     		mov	r0, r1
 1562 000a 1146     		mov	r1, r2
 1563 000c 1A46     		mov	r2, r3
 1564 000e 0346     		mov	r3, r0
 1565 0010 FB70     		strb	r3, [r7, #3]
 1566 0012 0B46     		mov	r3, r1	@ movhi
 1567 0014 3B80     		strh	r3, [r7]	@ movhi
ARM GAS  /tmp/cc1Tfh18.s 			page 43


 1568 0016 1346     		mov	r3, r2
 1569 0018 BB70     		strb	r3, [r7, #2]
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   HAL_StatusTypeDef  ret = HAL_OK;
 1570              		.loc 1 867 0
 1571 001a 0023     		movs	r3, #0
 1572 001c FB72     		strb	r3, [r7, #11]
 868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 1573              		.loc 1 868 0
 1574 001e 0023     		movs	r3, #0
 1575 0020 FB60     		str	r3, [r7, #12]
 869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x80U) == 0x80U)
 1576              		.loc 1 870 0
 1577 0022 97F90330 		ldrsb	r3, [r7, #3]
 1578 0026 002B     		cmp	r3, #0
 1579 0028 08DA     		bge	.L51
 871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 1580              		.loc 1 872 0
 1581 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1582 002c 03F07F03 		and	r3, r3, #127
 1583 0030 5B01     		lsls	r3, r3, #5
 1584 0032 2833     		adds	r3, r3, #40
 1585 0034 7A68     		ldr	r2, [r7, #4]
 1586 0036 1344     		add	r3, r3, r2
 1587 0038 FB60     		str	r3, [r7, #12]
 1588 003a 08E0     		b	.L52
 1589              	.L51:
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr & 0x7FU];
 1590              		.loc 1 876 0
 1591 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1592 003e 03F07F03 		and	r3, r3, #127
 1593 0042 5B01     		lsls	r3, r3, #5
 1594 0044 03F50A73 		add	r3, r3, #552
 1595 0048 7A68     		ldr	r2, [r7, #4]
 1596 004a 1344     		add	r3, r3, r2
 1597 004c FB60     		str	r3, [r7, #12]
 1598              	.L52:
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 1599              		.loc 1 878 0
 1600 004e FB78     		ldrb	r3, [r7, #3]
 1601 0050 03F07F03 		and	r3, r3, #127
 1602 0054 DAB2     		uxtb	r2, r3
 1603 0056 FB68     		ldr	r3, [r7, #12]
 1604 0058 1A70     		strb	r2, [r3]
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = (0x80U & ep_addr) != 0U;
 1605              		.loc 1 880 0
 1606 005a 97F90330 		ldrsb	r3, [r7, #3]
 1607 005e DBB2     		uxtb	r3, r3
 1608 0060 DB09     		lsrs	r3, r3, #7
 1609 0062 DBB2     		uxtb	r3, r3
 1610 0064 1A46     		mov	r2, r3
ARM GAS  /tmp/cc1Tfh18.s 			page 44


 1611 0066 FB68     		ldr	r3, [r7, #12]
 1612 0068 5A70     		strb	r2, [r3, #1]
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->maxpacket = ep_mps;
 1613              		.loc 1 881 0
 1614 006a 3A88     		ldrh	r2, [r7]
 1615 006c FB68     		ldr	r3, [r7, #12]
 1616 006e 1A61     		str	r2, [r3, #16]
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->type = ep_type;
 1617              		.loc 1 882 0
 1618 0070 FB68     		ldr	r3, [r7, #12]
 1619 0072 BA78     		ldrb	r2, [r7, #2]
 1620 0074 DA70     		strb	r2, [r3, #3]
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1621              		.loc 1 884 0
 1622 0076 7B68     		ldr	r3, [r7, #4]
 1623 0078 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 1624 007c 012B     		cmp	r3, #1
 1625 007e 01D1     		bne	.L53
 1626              		.loc 1 884 0 is_stmt 0 discriminator 1
 1627 0080 0223     		movs	r3, #2
 1628 0082 0EE0     		b	.L54
 1629              	.L53:
 1630              		.loc 1 884 0 discriminator 2
 1631 0084 7B68     		ldr	r3, [r7, #4]
 1632 0086 0122     		movs	r2, #1
 1633 0088 83F82824 		strb	r2, [r3, #1064]
 885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_ActivateEndpoint(hpcd->Instance , ep);
 1634              		.loc 1 885 0 is_stmt 1 discriminator 2
 1635 008c 7B68     		ldr	r3, [r7, #4]
 1636 008e 1B68     		ldr	r3, [r3]
 1637 0090 F968     		ldr	r1, [r7, #12]
 1638 0092 1846     		mov	r0, r3
 1639 0094 FFF7FEFF 		bl	USB_ActivateEndpoint
 886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 1640              		.loc 1 886 0 discriminator 2
 1641 0098 7B68     		ldr	r3, [r7, #4]
 1642 009a 0022     		movs	r2, #0
 1643 009c 83F82824 		strb	r2, [r3, #1064]
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return ret;
 1644              		.loc 1 887 0 discriminator 2
 1645 00a0 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1646              	.L54:
 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1647              		.loc 1 888 0
 1648 00a2 1846     		mov	r0, r3
 1649 00a4 1037     		adds	r7, r7, #16
 1650              	.LCFI121:
 1651              		.cfi_def_cfa_offset 8
 1652 00a6 BD46     		mov	sp, r7
 1653              	.LCFI122:
 1654              		.cfi_def_cfa_register 13
 1655              		@ sp needed
 1656 00a8 80BD     		pop	{r7, pc}
 1657              		.cfi_endproc
 1658              	.LFE87:
 1660              		.section	.text.HAL_PCD_EP_Close,"ax",%progbits
ARM GAS  /tmp/cc1Tfh18.s 			page 45


 1661              		.align	1
 1662              		.global	HAL_PCD_EP_Close
 1663              		.syntax unified
 1664              		.thumb
 1665              		.thumb_func
 1666              		.fpu softvfp
 1668              	HAL_PCD_EP_Close:
 1669              	.LFB88:
 889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Deactivate an endpoint
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Close(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {  
 1670              		.loc 1 897 0
 1671              		.cfi_startproc
 1672              		@ args = 0, pretend = 0, frame = 16
 1673              		@ frame_needed = 1, uses_anonymous_args = 0
 1674 0000 80B5     		push	{r7, lr}
 1675              	.LCFI123:
 1676              		.cfi_def_cfa_offset 8
 1677              		.cfi_offset 7, -8
 1678              		.cfi_offset 14, -4
 1679 0002 84B0     		sub	sp, sp, #16
 1680              	.LCFI124:
 1681              		.cfi_def_cfa_offset 24
 1682 0004 00AF     		add	r7, sp, #0
 1683              	.LCFI125:
 1684              		.cfi_def_cfa_register 7
 1685 0006 7860     		str	r0, [r7, #4]
 1686 0008 0B46     		mov	r3, r1
 1687 000a FB70     		strb	r3, [r7, #3]
 898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 1688              		.loc 1 898 0
 1689 000c 0023     		movs	r3, #0
 1690 000e FB60     		str	r3, [r7, #12]
 899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x80U) == 0x80U)
 1691              		.loc 1 900 0
 1692 0010 97F90330 		ldrsb	r3, [r7, #3]
 1693 0014 002B     		cmp	r3, #0
 1694 0016 08DA     		bge	.L56
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 1695              		.loc 1 902 0
 1696 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1697 001a 03F07F03 		and	r3, r3, #127
 1698 001e 5B01     		lsls	r3, r3, #5
 1699 0020 2833     		adds	r3, r3, #40
 1700 0022 7A68     		ldr	r2, [r7, #4]
 1701 0024 1344     		add	r3, r3, r2
 1702 0026 FB60     		str	r3, [r7, #12]
 1703 0028 08E0     		b	.L57
 1704              	.L56:
ARM GAS  /tmp/cc1Tfh18.s 			page 46


 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr & 0x7FU];
 1705              		.loc 1 906 0
 1706 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1707 002c 03F07F03 		and	r3, r3, #127
 1708 0030 5B01     		lsls	r3, r3, #5
 1709 0032 03F50A73 		add	r3, r3, #552
 1710 0036 7A68     		ldr	r2, [r7, #4]
 1711 0038 1344     		add	r3, r3, r2
 1712 003a FB60     		str	r3, [r7, #12]
 1713              	.L57:
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 1714              		.loc 1 908 0
 1715 003c FB78     		ldrb	r3, [r7, #3]
 1716 003e 03F07F03 		and	r3, r3, #127
 1717 0042 DAB2     		uxtb	r2, r3
 1718 0044 FB68     		ldr	r3, [r7, #12]
 1719 0046 1A70     		strb	r2, [r3]
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = (0x80U & ep_addr) != 0U;
 1720              		.loc 1 910 0
 1721 0048 97F90330 		ldrsb	r3, [r7, #3]
 1722 004c DBB2     		uxtb	r3, r3
 1723 004e DB09     		lsrs	r3, r3, #7
 1724 0050 DBB2     		uxtb	r3, r3
 1725 0052 1A46     		mov	r2, r3
 1726 0054 FB68     		ldr	r3, [r7, #12]
 1727 0056 5A70     		strb	r2, [r3, #1]
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 1728              		.loc 1 912 0
 1729 0058 7B68     		ldr	r3, [r7, #4]
 1730 005a 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 1731 005e 012B     		cmp	r3, #1
 1732 0060 01D1     		bne	.L58
 1733              		.loc 1 912 0 is_stmt 0 discriminator 1
 1734 0062 0223     		movs	r3, #2
 1735 0064 0EE0     		b	.L59
 1736              	.L58:
 1737              		.loc 1 912 0 discriminator 2
 1738 0066 7B68     		ldr	r3, [r7, #4]
 1739 0068 0122     		movs	r2, #1
 1740 006a 83F82824 		strb	r2, [r3, #1064]
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_DeactivateEndpoint(hpcd->Instance , ep);
 1741              		.loc 1 913 0 is_stmt 1 discriminator 2
 1742 006e 7B68     		ldr	r3, [r7, #4]
 1743 0070 1B68     		ldr	r3, [r3]
 1744 0072 F968     		ldr	r1, [r7, #12]
 1745 0074 1846     		mov	r0, r3
 1746 0076 FFF7FEFF 		bl	USB_DeactivateEndpoint
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 1747              		.loc 1 914 0 discriminator 2
 1748 007a 7B68     		ldr	r3, [r7, #4]
 1749 007c 0022     		movs	r2, #0
ARM GAS  /tmp/cc1Tfh18.s 			page 47


 1750 007e 83F82824 		strb	r2, [r3, #1064]
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 1751              		.loc 1 915 0 discriminator 2
 1752 0082 0023     		movs	r3, #0
 1753              	.L59:
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1754              		.loc 1 916 0
 1755 0084 1846     		mov	r0, r3
 1756 0086 1037     		adds	r7, r7, #16
 1757              	.LCFI126:
 1758              		.cfi_def_cfa_offset 8
 1759 0088 BD46     		mov	sp, r7
 1760              	.LCFI127:
 1761              		.cfi_def_cfa_register 13
 1762              		@ sp needed
 1763 008a 80BD     		pop	{r7, pc}
 1764              		.cfi_endproc
 1765              	.LFE88:
 1767              		.section	.text.HAL_PCD_EP_Receive,"ax",%progbits
 1768              		.align	1
 1769              		.global	HAL_PCD_EP_Receive
 1770              		.syntax unified
 1771              		.thumb
 1772              		.thumb_func
 1773              		.fpu softvfp
 1775              	HAL_PCD_EP_Receive:
 1776              	.LFB89:
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Receive an amount of data
 921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  pBuf: pointer to the reception buffer
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  len: amount of data to be received
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Receive(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint8_t *pBuf, uint3
 928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1777              		.loc 1 928 0
 1778              		.cfi_startproc
 1779              		@ args = 0, pretend = 0, frame = 24
 1780              		@ frame_needed = 1, uses_anonymous_args = 0
 1781 0000 80B5     		push	{r7, lr}
 1782              	.LCFI128:
 1783              		.cfi_def_cfa_offset 8
 1784              		.cfi_offset 7, -8
 1785              		.cfi_offset 14, -4
 1786 0002 86B0     		sub	sp, sp, #24
 1787              	.LCFI129:
 1788              		.cfi_def_cfa_offset 32
 1789 0004 00AF     		add	r7, sp, #0
 1790              	.LCFI130:
 1791              		.cfi_def_cfa_register 7
 1792 0006 F860     		str	r0, [r7, #12]
 1793 0008 7A60     		str	r2, [r7, #4]
 1794 000a 3B60     		str	r3, [r7]
ARM GAS  /tmp/cc1Tfh18.s 			page 48


 1795 000c 0B46     		mov	r3, r1
 1796 000e FB72     		strb	r3, [r7, #11]
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 1797              		.loc 1 929 0
 1798 0010 0023     		movs	r3, #0
 1799 0012 7B61     		str	r3, [r7, #20]
 930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep = &hpcd->OUT_ep[ep_addr & 0x7FU];
 1800              		.loc 1 931 0
 1801 0014 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1802 0016 03F07F03 		and	r3, r3, #127
 1803 001a 5B01     		lsls	r3, r3, #5
 1804 001c 03F50A73 		add	r3, r3, #552
 1805 0020 FA68     		ldr	r2, [r7, #12]
 1806 0022 1344     		add	r3, r3, r2
 1807 0024 7B61     		str	r3, [r7, #20]
 932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /*setup and start the Xfer */
 934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_buff = pBuf;  
 1808              		.loc 1 934 0
 1809 0026 7B69     		ldr	r3, [r7, #20]
 1810 0028 7A68     		ldr	r2, [r7, #4]
 1811 002a 5A61     		str	r2, [r3, #20]
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_len = len;
 1812              		.loc 1 935 0
 1813 002c 7B69     		ldr	r3, [r7, #20]
 1814 002e 3A68     		ldr	r2, [r7]
 1815 0030 9A61     		str	r2, [r3, #24]
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_count = 0U;
 1816              		.loc 1 936 0
 1817 0032 7B69     		ldr	r3, [r7, #20]
 1818 0034 0022     		movs	r2, #0
 1819 0036 DA61     		str	r2, [r3, #28]
 937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = 0U;
 1820              		.loc 1 937 0
 1821 0038 7B69     		ldr	r3, [r7, #20]
 1822 003a 0022     		movs	r2, #0
 1823 003c 5A70     		strb	r2, [r3, #1]
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num = ep_addr & 0x7FU;
 1824              		.loc 1 938 0
 1825 003e FB7A     		ldrb	r3, [r7, #11]
 1826 0040 03F07F03 		and	r3, r3, #127
 1827 0044 DAB2     		uxtb	r2, r3
 1828 0046 7B69     		ldr	r3, [r7, #20]
 1829 0048 1A70     		strb	r2, [r3]
 939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x7FU) == 0U)
 1830              		.loc 1 940 0
 1831 004a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1832 004c 03F07F03 		and	r3, r3, #127
 1833 0050 002B     		cmp	r3, #0
 1834 0052 06D1     		bne	.L61
 941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EP0StartXfer(hpcd->Instance , ep);
 1835              		.loc 1 942 0
 1836 0054 FB68     		ldr	r3, [r7, #12]
 1837 0056 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cc1Tfh18.s 			page 49


 1838 0058 7969     		ldr	r1, [r7, #20]
 1839 005a 1846     		mov	r0, r3
 1840 005c FFF7FEFF 		bl	USB_EPStartXfer
 1841 0060 05E0     		b	.L62
 1842              	.L61:
 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EPStartXfer(hpcd->Instance , ep);
 1843              		.loc 1 946 0
 1844 0062 FB68     		ldr	r3, [r7, #12]
 1845 0064 1B68     		ldr	r3, [r3]
 1846 0066 7969     		ldr	r1, [r7, #20]
 1847 0068 1846     		mov	r0, r3
 1848 006a FFF7FEFF 		bl	USB_EPStartXfer
 1849              	.L62:
 947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 1850              		.loc 1 949 0
 1851 006e 0023     		movs	r3, #0
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1852              		.loc 1 950 0
 1853 0070 1846     		mov	r0, r3
 1854 0072 1837     		adds	r7, r7, #24
 1855              	.LCFI131:
 1856              		.cfi_def_cfa_offset 8
 1857 0074 BD46     		mov	sp, r7
 1858              	.LCFI132:
 1859              		.cfi_def_cfa_register 13
 1860              		@ sp needed
 1861 0076 80BD     		pop	{r7, pc}
 1862              		.cfi_endproc
 1863              	.LFE89:
 1865              		.section	.text.HAL_PCD_EP_GetRxCount,"ax",%progbits
 1866              		.align	1
 1867              		.global	HAL_PCD_EP_GetRxCount
 1868              		.syntax unified
 1869              		.thumb
 1870              		.thumb_func
 1871              		.fpu softvfp
 1873              	HAL_PCD_EP_GetRxCount:
 1874              	.LFB90:
 951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Get Received Data Size
 954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval Data Size
 957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** uint16_t HAL_PCD_EP_GetRxCount(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1875              		.loc 1 959 0
 1876              		.cfi_startproc
 1877              		@ args = 0, pretend = 0, frame = 8
 1878              		@ frame_needed = 1, uses_anonymous_args = 0
 1879              		@ link register save eliminated.
ARM GAS  /tmp/cc1Tfh18.s 			page 50


 1880 0000 80B4     		push	{r7}
 1881              	.LCFI133:
 1882              		.cfi_def_cfa_offset 4
 1883              		.cfi_offset 7, -4
 1884 0002 83B0     		sub	sp, sp, #12
 1885              	.LCFI134:
 1886              		.cfi_def_cfa_offset 16
 1887 0004 00AF     		add	r7, sp, #0
 1888              	.LCFI135:
 1889              		.cfi_def_cfa_register 7
 1890 0006 7860     		str	r0, [r7, #4]
 1891 0008 0B46     		mov	r3, r1
 1892 000a FB70     		strb	r3, [r7, #3]
 960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return hpcd->OUT_ep[ep_addr & 0xF].xfer_count;
 1893              		.loc 1 960 0
 1894 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1895 000e 03F00F03 		and	r3, r3, #15
 1896 0012 7A68     		ldr	r2, [r7, #4]
 1897 0014 1233     		adds	r3, r3, #18
 1898 0016 5B01     		lsls	r3, r3, #5
 1899 0018 1344     		add	r3, r3, r2
 1900 001a 0433     		adds	r3, r3, #4
 1901 001c 1B68     		ldr	r3, [r3]
 1902 001e 9BB2     		uxth	r3, r3
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 1903              		.loc 1 961 0
 1904 0020 1846     		mov	r0, r3
 1905 0022 0C37     		adds	r7, r7, #12
 1906              	.LCFI136:
 1907              		.cfi_def_cfa_offset 4
 1908 0024 BD46     		mov	sp, r7
 1909              	.LCFI137:
 1910              		.cfi_def_cfa_register 13
 1911              		@ sp needed
 1912 0026 80BC     		pop	{r7}
 1913              	.LCFI138:
 1914              		.cfi_restore 7
 1915              		.cfi_def_cfa_offset 0
 1916 0028 7047     		bx	lr
 1917              		.cfi_endproc
 1918              	.LFE90:
 1920              		.section	.text.HAL_PCD_EP_Transmit,"ax",%progbits
 1921              		.align	1
 1922              		.global	HAL_PCD_EP_Transmit
 1923              		.syntax unified
 1924              		.thumb
 1925              		.thumb_func
 1926              		.fpu softvfp
 1928              	HAL_PCD_EP_Transmit:
 1929              	.LFB91:
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Send an amount of data
 964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  pBuf: pointer to the transmission buffer
 967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  len: amount of data to be sent
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
ARM GAS  /tmp/cc1Tfh18.s 			page 51


 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Transmit(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint8_t *pBuf, uint
 971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 1930              		.loc 1 971 0
 1931              		.cfi_startproc
 1932              		@ args = 0, pretend = 0, frame = 24
 1933              		@ frame_needed = 1, uses_anonymous_args = 0
 1934 0000 80B5     		push	{r7, lr}
 1935              	.LCFI139:
 1936              		.cfi_def_cfa_offset 8
 1937              		.cfi_offset 7, -8
 1938              		.cfi_offset 14, -4
 1939 0002 86B0     		sub	sp, sp, #24
 1940              	.LCFI140:
 1941              		.cfi_def_cfa_offset 32
 1942 0004 00AF     		add	r7, sp, #0
 1943              	.LCFI141:
 1944              		.cfi_def_cfa_register 7
 1945 0006 F860     		str	r0, [r7, #12]
 1946 0008 7A60     		str	r2, [r7, #4]
 1947 000a 3B60     		str	r3, [r7]
 1948 000c 0B46     		mov	r3, r1
 1949 000e FB72     		strb	r3, [r7, #11]
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 1950              		.loc 1 972 0
 1951 0010 0023     		movs	r3, #0
 1952 0012 7B61     		str	r3, [r7, #20]
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 1953              		.loc 1 974 0
 1954 0014 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1955 0016 03F07F03 		and	r3, r3, #127
 1956 001a 5B01     		lsls	r3, r3, #5
 1957 001c 2833     		adds	r3, r3, #40
 1958 001e FA68     		ldr	r2, [r7, #12]
 1959 0020 1344     		add	r3, r3, r2
 1960 0022 7B61     		str	r3, [r7, #20]
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /*setup and start the Xfer */
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_buff = pBuf;  
 1961              		.loc 1 977 0
 1962 0024 7B69     		ldr	r3, [r7, #20]
 1963 0026 7A68     		ldr	r2, [r7, #4]
 1964 0028 5A61     		str	r2, [r3, #20]
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_len = len;
 1965              		.loc 1 978 0
 1966 002a 7B69     		ldr	r3, [r7, #20]
 1967 002c 3A68     		ldr	r2, [r7]
 1968 002e 9A61     		str	r2, [r3, #24]
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->xfer_count = 0U;
 1969              		.loc 1 979 0
 1970 0030 7B69     		ldr	r3, [r7, #20]
 1971 0032 0022     		movs	r2, #0
 1972 0034 DA61     		str	r2, [r3, #28]
 980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = 1U;
 1973              		.loc 1 980 0
 1974 0036 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc1Tfh18.s 			page 52


 1975 0038 0122     		movs	r2, #1
 1976 003a 5A70     		strb	r2, [r3, #1]
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num = ep_addr & 0x7FU;
 1977              		.loc 1 981 0
 1978 003c FB7A     		ldrb	r3, [r7, #11]
 1979 003e 03F07F03 		and	r3, r3, #127
 1980 0042 DAB2     		uxtb	r2, r3
 1981 0044 7B69     		ldr	r3, [r7, #20]
 1982 0046 1A70     		strb	r2, [r3]
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x7FU) == 0U)
 1983              		.loc 1 983 0
 1984 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1985 004a 03F07F03 		and	r3, r3, #127
 1986 004e 002B     		cmp	r3, #0
 1987 0050 06D1     		bne	.L67
 984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EP0StartXfer(hpcd->Instance , ep);
 1988              		.loc 1 985 0
 1989 0052 FB68     		ldr	r3, [r7, #12]
 1990 0054 1B68     		ldr	r3, [r3]
 1991 0056 7969     		ldr	r1, [r7, #20]
 1992 0058 1846     		mov	r0, r3
 1993 005a FFF7FEFF 		bl	USB_EPStartXfer
 1994 005e 05E0     		b	.L68
 1995              	.L67:
 986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EPStartXfer(hpcd->Instance , ep);
 1996              		.loc 1 989 0
 1997 0060 FB68     		ldr	r3, [r7, #12]
 1998 0062 1B68     		ldr	r3, [r3]
 1999 0064 7969     		ldr	r1, [r7, #20]
 2000 0066 1846     		mov	r0, r3
 2001 0068 FFF7FEFF 		bl	USB_EPStartXfer
 2002              	.L68:
 990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
 991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 2003              		.loc 1 992 0
 2004 006c 0023     		movs	r3, #0
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2005              		.loc 1 993 0
 2006 006e 1846     		mov	r0, r3
 2007 0070 1837     		adds	r7, r7, #24
 2008              	.LCFI142:
 2009              		.cfi_def_cfa_offset 8
 2010 0072 BD46     		mov	sp, r7
 2011              	.LCFI143:
 2012              		.cfi_def_cfa_register 13
 2013              		@ sp needed
 2014 0074 80BD     		pop	{r7, pc}
 2015              		.cfi_endproc
 2016              	.LFE91:
 2018              		.section	.text.HAL_PCD_EP_SetStall,"ax",%progbits
 2019              		.align	1
ARM GAS  /tmp/cc1Tfh18.s 			page 53


 2020              		.global	HAL_PCD_EP_SetStall
 2021              		.syntax unified
 2022              		.thumb
 2023              		.thumb_func
 2024              		.fpu softvfp
 2026              	HAL_PCD_EP_SetStall:
 2027              	.LFB92:
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Set a STALL condition over an endpoint
 997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_SetStall(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2028              		.loc 1 1002 0
 2029              		.cfi_startproc
 2030              		@ args = 0, pretend = 0, frame = 16
 2031              		@ frame_needed = 1, uses_anonymous_args = 0
 2032 0000 80B5     		push	{r7, lr}
 2033              	.LCFI144:
 2034              		.cfi_def_cfa_offset 8
 2035              		.cfi_offset 7, -8
 2036              		.cfi_offset 14, -4
 2037 0002 84B0     		sub	sp, sp, #16
 2038              	.LCFI145:
 2039              		.cfi_def_cfa_offset 24
 2040 0004 00AF     		add	r7, sp, #0
 2041              	.LCFI146:
 2042              		.cfi_def_cfa_register 7
 2043 0006 7860     		str	r0, [r7, #4]
 2044 0008 0B46     		mov	r3, r1
 2045 000a FB70     		strb	r3, [r7, #3]
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 2046              		.loc 1 1003 0
 2047 000c 0023     		movs	r3, #0
 2048 000e FB60     		str	r3, [r7, #12]
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((0x80U & ep_addr) == 0x80U)
 2049              		.loc 1 1005 0
 2050 0010 97F90330 		ldrsb	r3, [r7, #3]
 2051 0014 002B     		cmp	r3, #0
 2052 0016 08DA     		bge	.L71
1006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 2053              		.loc 1 1007 0
 2054 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2055 001a 03F07F03 		and	r3, r3, #127
 2056 001e 5B01     		lsls	r3, r3, #5
 2057 0020 2833     		adds	r3, r3, #40
 2058 0022 7A68     		ldr	r2, [r7, #4]
 2059 0024 1344     		add	r3, r3, r2
 2060 0026 FB60     		str	r3, [r7, #12]
 2061 0028 06E0     		b	.L72
 2062              	.L71:
1008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
ARM GAS  /tmp/cc1Tfh18.s 			page 54


1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
1010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr];
 2063              		.loc 1 1011 0
 2064 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2065 002c 5B01     		lsls	r3, r3, #5
 2066 002e 03F50A73 		add	r3, r3, #552
 2067 0032 7A68     		ldr	r2, [r7, #4]
 2068 0034 1344     		add	r3, r3, r2
 2069 0036 FB60     		str	r3, [r7, #12]
 2070              	.L72:
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_stall = 1U;
 2071              		.loc 1 1014 0
 2072 0038 FB68     		ldr	r3, [r7, #12]
 2073 003a 0122     		movs	r2, #1
 2074 003c 9A70     		strb	r2, [r3, #2]
1015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 2075              		.loc 1 1015 0
 2076 003e FB78     		ldrb	r3, [r7, #3]
 2077 0040 03F07F03 		and	r3, r3, #127
 2078 0044 DAB2     		uxtb	r2, r3
 2079 0046 FB68     		ldr	r3, [r7, #12]
 2080 0048 1A70     		strb	r2, [r3]
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80U) == 0x80U);
 2081              		.loc 1 1016 0
 2082 004a 97F90330 		ldrsb	r3, [r7, #3]
 2083 004e DBB2     		uxtb	r3, r3
 2084 0050 DB09     		lsrs	r3, r3, #7
 2085 0052 DBB2     		uxtb	r3, r3
 2086 0054 1A46     		mov	r2, r3
 2087 0056 FB68     		ldr	r3, [r7, #12]
 2088 0058 5A70     		strb	r2, [r3, #1]
1017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 2089              		.loc 1 1018 0
 2090 005a 7B68     		ldr	r3, [r7, #4]
 2091 005c 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 2092 0060 012B     		cmp	r3, #1
 2093 0062 01D1     		bne	.L73
 2094              		.loc 1 1018 0 is_stmt 0 discriminator 1
 2095 0064 0223     		movs	r3, #2
 2096 0066 1CE0     		b	.L74
 2097              	.L73:
 2098              		.loc 1 1018 0 discriminator 2
 2099 0068 7B68     		ldr	r3, [r7, #4]
 2100 006a 0122     		movs	r2, #1
 2101 006c 83F82824 		strb	r2, [r3, #1064]
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPSetStall(hpcd->Instance , ep);
 2102              		.loc 1 1019 0 is_stmt 1 discriminator 2
 2103 0070 7B68     		ldr	r3, [r7, #4]
 2104 0072 1B68     		ldr	r3, [r3]
 2105 0074 F968     		ldr	r1, [r7, #12]
 2106 0076 1846     		mov	r0, r3
 2107 0078 FFF7FEFF 		bl	USB_EPSetStall
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if((ep_addr & 0x7FU) == 0U)
ARM GAS  /tmp/cc1Tfh18.s 			page 55


 2108              		.loc 1 1020 0 discriminator 2
 2109 007c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2110 007e 03F07F03 		and	r3, r3, #127
 2111 0082 002B     		cmp	r3, #0
 2112 0084 08D1     		bne	.L75
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_EP0_OutStart(hpcd->Instance, (uint8_t *)hpcd->Setup);
 2113              		.loc 1 1022 0
 2114 0086 7B68     		ldr	r3, [r7, #4]
 2115 0088 1A68     		ldr	r2, [r3]
 2116 008a 7B68     		ldr	r3, [r7, #4]
 2117 008c 03F22C43 		addw	r3, r3, #1068
 2118 0090 1946     		mov	r1, r3
 2119 0092 1046     		mov	r0, r2
 2120 0094 FFF7FEFF 		bl	USB_EP0_OutStart
 2121              	.L75:
1023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 2122              		.loc 1 1024 0
 2123 0098 7B68     		ldr	r3, [r7, #4]
 2124 009a 0022     		movs	r2, #0
 2125 009c 83F82824 		strb	r2, [r3, #1064]
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 2126              		.loc 1 1026 0
 2127 00a0 0023     		movs	r3, #0
 2128              	.L74:
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2129              		.loc 1 1027 0
 2130 00a2 1846     		mov	r0, r3
 2131 00a4 1037     		adds	r7, r7, #16
 2132              	.LCFI147:
 2133              		.cfi_def_cfa_offset 8
 2134 00a6 BD46     		mov	sp, r7
 2135              	.LCFI148:
 2136              		.cfi_def_cfa_register 13
 2137              		@ sp needed
 2138 00a8 80BD     		pop	{r7, pc}
 2139              		.cfi_endproc
 2140              	.LFE92:
 2142              		.section	.text.HAL_PCD_EP_ClrStall,"ax",%progbits
 2143              		.align	1
 2144              		.global	HAL_PCD_EP_ClrStall
 2145              		.syntax unified
 2146              		.thumb
 2147              		.thumb_func
 2148              		.fpu softvfp
 2150              	HAL_PCD_EP_ClrStall:
 2151              	.LFB93:
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Clear a STALL condition over in an endpoint
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
1033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_ClrStall(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
ARM GAS  /tmp/cc1Tfh18.s 			page 56


1036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2152              		.loc 1 1036 0
 2153              		.cfi_startproc
 2154              		@ args = 0, pretend = 0, frame = 16
 2155              		@ frame_needed = 1, uses_anonymous_args = 0
 2156 0000 80B5     		push	{r7, lr}
 2157              	.LCFI149:
 2158              		.cfi_def_cfa_offset 8
 2159              		.cfi_offset 7, -8
 2160              		.cfi_offset 14, -4
 2161 0002 84B0     		sub	sp, sp, #16
 2162              	.LCFI150:
 2163              		.cfi_def_cfa_offset 24
 2164 0004 00AF     		add	r7, sp, #0
 2165              	.LCFI151:
 2166              		.cfi_def_cfa_register 7
 2167 0006 7860     		str	r0, [r7, #4]
 2168 0008 0B46     		mov	r3, r1
 2169 000a FB70     		strb	r3, [r7, #3]
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 2170              		.loc 1 1037 0
 2171 000c 0023     		movs	r3, #0
 2172 000e FB60     		str	r3, [r7, #12]
1038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((0x80U & ep_addr) == 0x80U)
 2173              		.loc 1 1039 0
 2174 0010 97F90330 		ldrsb	r3, [r7, #3]
 2175 0014 002B     		cmp	r3, #0
 2176 0016 08DA     		bge	.L77
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7FU];
 2177              		.loc 1 1041 0
 2178 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2179 001a 03F07F03 		and	r3, r3, #127
 2180 001e 5B01     		lsls	r3, r3, #5
 2181 0020 2833     		adds	r3, r3, #40
 2182 0022 7A68     		ldr	r2, [r7, #4]
 2183 0024 1344     		add	r3, r3, r2
 2184 0026 FB60     		str	r3, [r7, #12]
 2185 0028 06E0     		b	.L78
 2186              	.L77:
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
1044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr];
 2187              		.loc 1 1045 0
 2188 002a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2189 002c 5B01     		lsls	r3, r3, #5
 2190 002e 03F50A73 		add	r3, r3, #552
 2191 0032 7A68     		ldr	r2, [r7, #4]
 2192 0034 1344     		add	r3, r3, r2
 2193 0036 FB60     		str	r3, [r7, #12]
 2194              	.L78:
1046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_stall = 0U;
 2195              		.loc 1 1048 0
ARM GAS  /tmp/cc1Tfh18.s 			page 57


 2196 0038 FB68     		ldr	r3, [r7, #12]
 2197 003a 0022     		movs	r2, #0
 2198 003c 9A70     		strb	r2, [r3, #2]
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7FU;
 2199              		.loc 1 1049 0
 2200 003e FB78     		ldrb	r3, [r7, #3]
 2201 0040 03F07F03 		and	r3, r3, #127
 2202 0044 DAB2     		uxtb	r2, r3
 2203 0046 FB68     		ldr	r3, [r7, #12]
 2204 0048 1A70     		strb	r2, [r3]
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80U) == 0x80U);
 2205              		.loc 1 1050 0
 2206 004a 97F90330 		ldrsb	r3, [r7, #3]
 2207 004e DBB2     		uxtb	r3, r3
 2208 0050 DB09     		lsrs	r3, r3, #7
 2209 0052 DBB2     		uxtb	r3, r3
 2210 0054 1A46     		mov	r2, r3
 2211 0056 FB68     		ldr	r3, [r7, #12]
 2212 0058 5A70     		strb	r2, [r3, #1]
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 2213              		.loc 1 1052 0
 2214 005a 7B68     		ldr	r3, [r7, #4]
 2215 005c 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 2216 0060 012B     		cmp	r3, #1
 2217 0062 01D1     		bne	.L79
 2218              		.loc 1 1052 0 is_stmt 0 discriminator 1
 2219 0064 0223     		movs	r3, #2
 2220 0066 0EE0     		b	.L80
 2221              	.L79:
 2222              		.loc 1 1052 0 discriminator 2
 2223 0068 7B68     		ldr	r3, [r7, #4]
 2224 006a 0122     		movs	r2, #1
 2225 006c 83F82824 		strb	r2, [r3, #1064]
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_EPClearStall(hpcd->Instance , ep);
 2226              		.loc 1 1053 0 is_stmt 1 discriminator 2
 2227 0070 7B68     		ldr	r3, [r7, #4]
 2228 0072 1B68     		ldr	r3, [r3]
 2229 0074 F968     		ldr	r1, [r7, #12]
 2230 0076 1846     		mov	r0, r3
 2231 0078 FFF7FEFF 		bl	USB_EPClearStall
1054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 2232              		.loc 1 1054 0 discriminator 2
 2233 007c 7B68     		ldr	r3, [r7, #4]
 2234 007e 0022     		movs	r2, #0
 2235 0080 83F82824 		strb	r2, [r3, #1064]
1055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 2236              		.loc 1 1056 0 discriminator 2
 2237 0084 0023     		movs	r3, #0
 2238              	.L80:
1057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2239              		.loc 1 1057 0
 2240 0086 1846     		mov	r0, r3
 2241 0088 1037     		adds	r7, r7, #16
 2242              	.LCFI152:
 2243              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc1Tfh18.s 			page 58


 2244 008a BD46     		mov	sp, r7
 2245              	.LCFI153:
 2246              		.cfi_def_cfa_register 13
 2247              		@ sp needed
 2248 008c 80BD     		pop	{r7, pc}
 2249              		.cfi_endproc
 2250              	.LFE93:
 2252              		.section	.text.HAL_PCD_EP_Flush,"ax",%progbits
 2253              		.align	1
 2254              		.global	HAL_PCD_EP_Flush
 2255              		.syntax unified
 2256              		.thumb
 2257              		.thumb_func
 2258              		.fpu softvfp
 2260              	HAL_PCD_EP_Flush:
 2261              	.LFB94:
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Flush an endpoint
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
1063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Flush(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2262              		.loc 1 1066 0
 2263              		.cfi_startproc
 2264              		@ args = 0, pretend = 0, frame = 8
 2265              		@ frame_needed = 1, uses_anonymous_args = 0
 2266 0000 80B5     		push	{r7, lr}
 2267              	.LCFI154:
 2268              		.cfi_def_cfa_offset 8
 2269              		.cfi_offset 7, -8
 2270              		.cfi_offset 14, -4
 2271 0002 82B0     		sub	sp, sp, #8
 2272              	.LCFI155:
 2273              		.cfi_def_cfa_offset 16
 2274 0004 00AF     		add	r7, sp, #0
 2275              	.LCFI156:
 2276              		.cfi_def_cfa_register 7
 2277 0006 7860     		str	r0, [r7, #4]
 2278 0008 0B46     		mov	r3, r1
 2279 000a FB70     		strb	r3, [r7, #3]
1067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_LOCK(hpcd);
 2280              		.loc 1 1067 0
 2281 000c 7B68     		ldr	r3, [r7, #4]
 2282 000e 93F82834 		ldrb	r3, [r3, #1064]	@ zero_extendqisi2
 2283 0012 012B     		cmp	r3, #1
 2284 0014 01D1     		bne	.L82
 2285              		.loc 1 1067 0 is_stmt 0 discriminator 1
 2286 0016 0223     		movs	r3, #2
 2287 0018 1BE0     		b	.L83
 2288              	.L82:
 2289              		.loc 1 1067 0 discriminator 2
 2290 001a 7B68     		ldr	r3, [r7, #4]
 2291 001c 0122     		movs	r2, #1
 2292 001e 83F82824 		strb	r2, [r3, #1064]
ARM GAS  /tmp/cc1Tfh18.s 			page 59


1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if ((ep_addr & 0x80U) == 0x80U)
 2293              		.loc 1 1069 0 is_stmt 1 discriminator 2
 2294 0022 97F90330 		ldrsb	r3, [r7, #3]
 2295 0026 002B     		cmp	r3, #0
 2296 0028 09DA     		bge	.L84
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_FlushTxFifo(hpcd->Instance, ep_addr & 0x7FU);
 2297              		.loc 1 1071 0
 2298 002a 7B68     		ldr	r3, [r7, #4]
 2299 002c 1A68     		ldr	r2, [r3]
 2300 002e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2301 0030 03F07F03 		and	r3, r3, #127
 2302 0034 1946     		mov	r1, r3
 2303 0036 1046     		mov	r0, r2
 2304 0038 FFF7FEFF 		bl	USB_FlushTxFifo
 2305 003c 04E0     		b	.L85
 2306              	.L84:
1072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   else
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_FlushRxFifo(hpcd->Instance);
 2307              		.loc 1 1075 0
 2308 003e 7B68     		ldr	r3, [r7, #4]
 2309 0040 1B68     		ldr	r3, [r3]
 2310 0042 1846     		mov	r0, r3
 2311 0044 FFF7FEFF 		bl	USB_FlushRxFifo
 2312              	.L85:
1076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 2313              		.loc 1 1078 0
 2314 0048 7B68     		ldr	r3, [r7, #4]
 2315 004a 0022     		movs	r2, #0
 2316 004c 83F82824 		strb	r2, [r3, #1064]
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 2317              		.loc 1 1080 0
 2318 0050 0023     		movs	r3, #0
 2319              	.L83:
1081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2320              		.loc 1 1081 0
 2321 0052 1846     		mov	r0, r3
 2322 0054 0837     		adds	r7, r7, #8
 2323              	.LCFI157:
 2324              		.cfi_def_cfa_offset 8
 2325 0056 BD46     		mov	sp, r7
 2326              	.LCFI158:
 2327              		.cfi_def_cfa_register 13
 2328              		@ sp needed
 2329 0058 80BD     		pop	{r7, pc}
 2330              		.cfi_endproc
 2331              	.LFE94:
 2333              		.section	.text.HAL_PCD_ActivateRemoteWakeup,"ax",%progbits
 2334              		.align	1
 2335              		.global	HAL_PCD_ActivateRemoteWakeup
 2336              		.syntax unified
ARM GAS  /tmp/cc1Tfh18.s 			page 60


 2337              		.thumb
 2338              		.thumb_func
 2339              		.fpu softvfp
 2341              	HAL_PCD_ActivateRemoteWakeup:
 2342              	.LFB95:
1082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  HAL_PCD_ActivateRemoteWakeup : active remote wakeup signalling
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_ActivateRemoteWakeup(PCD_HandleTypeDef *hpcd)
1089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2343              		.loc 1 1089 0
 2344              		.cfi_startproc
 2345              		@ args = 0, pretend = 0, frame = 8
 2346              		@ frame_needed = 1, uses_anonymous_args = 0
 2347 0000 80B5     		push	{r7, lr}
 2348              	.LCFI159:
 2349              		.cfi_def_cfa_offset 8
 2350              		.cfi_offset 7, -8
 2351              		.cfi_offset 14, -4
 2352 0002 82B0     		sub	sp, sp, #8
 2353              	.LCFI160:
 2354              		.cfi_def_cfa_offset 16
 2355 0004 00AF     		add	r7, sp, #0
 2356              	.LCFI161:
 2357              		.cfi_def_cfa_register 7
 2358 0006 7860     		str	r0, [r7, #4]
1090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return(USB_ActivateRemoteWakeup(hpcd->Instance));
 2359              		.loc 1 1090 0
 2360 0008 7B68     		ldr	r3, [r7, #4]
 2361 000a 1B68     		ldr	r3, [r3]
 2362 000c 1846     		mov	r0, r3
 2363 000e FFF7FEFF 		bl	USB_ActivateRemoteWakeup
 2364 0012 0346     		mov	r3, r0
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2365              		.loc 1 1091 0
 2366 0014 1846     		mov	r0, r3
 2367 0016 0837     		adds	r7, r7, #8
 2368              	.LCFI162:
 2369              		.cfi_def_cfa_offset 8
 2370 0018 BD46     		mov	sp, r7
 2371              	.LCFI163:
 2372              		.cfi_def_cfa_register 13
 2373              		@ sp needed
 2374 001a 80BD     		pop	{r7, pc}
 2375              		.cfi_endproc
 2376              	.LFE95:
 2378              		.section	.text.HAL_PCD_DeActivateRemoteWakeup,"ax",%progbits
 2379              		.align	1
 2380              		.global	HAL_PCD_DeActivateRemoteWakeup
 2381              		.syntax unified
 2382              		.thumb
 2383              		.thumb_func
 2384              		.fpu softvfp
 2386              	HAL_PCD_DeActivateRemoteWakeup:
ARM GAS  /tmp/cc1Tfh18.s 			page 61


 2387              	.LFB96:
1092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  HAL_PCD_DeActivateRemoteWakeup : de-active remote wakeup signalling
1095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DeActivateRemoteWakeup(PCD_HandleTypeDef *hpcd)
1099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2388              		.loc 1 1099 0
 2389              		.cfi_startproc
 2390              		@ args = 0, pretend = 0, frame = 8
 2391              		@ frame_needed = 1, uses_anonymous_args = 0
 2392 0000 80B5     		push	{r7, lr}
 2393              	.LCFI164:
 2394              		.cfi_def_cfa_offset 8
 2395              		.cfi_offset 7, -8
 2396              		.cfi_offset 14, -4
 2397 0002 82B0     		sub	sp, sp, #8
 2398              	.LCFI165:
 2399              		.cfi_def_cfa_offset 16
 2400 0004 00AF     		add	r7, sp, #0
 2401              	.LCFI166:
 2402              		.cfi_def_cfa_register 7
 2403 0006 7860     		str	r0, [r7, #4]
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return(USB_DeActivateRemoteWakeup(hpcd->Instance));
 2404              		.loc 1 1100 0
 2405 0008 7B68     		ldr	r3, [r7, #4]
 2406 000a 1B68     		ldr	r3, [r3]
 2407 000c 1846     		mov	r0, r3
 2408 000e FFF7FEFF 		bl	USB_DeActivateRemoteWakeup
 2409 0012 0346     		mov	r3, r0
1101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2410              		.loc 1 1101 0
 2411 0014 1846     		mov	r0, r3
 2412 0016 0837     		adds	r7, r7, #8
 2413              	.LCFI167:
 2414              		.cfi_def_cfa_offset 8
 2415 0018 BD46     		mov	sp, r7
 2416              	.LCFI168:
 2417              		.cfi_def_cfa_register 13
 2418              		@ sp needed
 2419 001a 80BD     		pop	{r7, pc}
 2420              		.cfi_endproc
 2421              	.LFE96:
 2423              		.section	.text.HAL_PCD_GetState,"ax",%progbits
 2424              		.align	1
 2425              		.global	HAL_PCD_GetState
 2426              		.syntax unified
 2427              		.thumb
 2428              		.thumb_func
 2429              		.fpu softvfp
 2431              	HAL_PCD_GetState:
 2432              	.LFB97:
1102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
1104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
ARM GAS  /tmp/cc1Tfh18.s 			page 62


1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group4 Peripheral State functions 
1107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *  @brief   Peripheral State functions
1108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  *
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @verbatim
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****                       ##### Peripheral State functions #####
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  ===============================================================================
1113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     [..]
1114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     This subsection permits to get in run-time the status of the peripheral 
1115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     and the data flow.
1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** @endverbatim
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  Return the PCD state
1123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL state
1125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** PCD_StateTypeDef HAL_PCD_GetState(PCD_HandleTypeDef *hpcd)
1127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2433              		.loc 1 1127 0
 2434              		.cfi_startproc
 2435              		@ args = 0, pretend = 0, frame = 8
 2436              		@ frame_needed = 1, uses_anonymous_args = 0
 2437              		@ link register save eliminated.
 2438 0000 80B4     		push	{r7}
 2439              	.LCFI169:
 2440              		.cfi_def_cfa_offset 4
 2441              		.cfi_offset 7, -4
 2442 0002 83B0     		sub	sp, sp, #12
 2443              	.LCFI170:
 2444              		.cfi_def_cfa_offset 16
 2445 0004 00AF     		add	r7, sp, #0
 2446              	.LCFI171:
 2447              		.cfi_def_cfa_register 7
 2448 0006 7860     		str	r0, [r7, #4]
1128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return hpcd->State;
 2449              		.loc 1 1128 0
 2450 0008 7B68     		ldr	r3, [r7, #4]
 2451 000a 93F82934 		ldrb	r3, [r3, #1065]
 2452 000e DBB2     		uxtb	r3, r3
1129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 2453              		.loc 1 1129 0
 2454 0010 1846     		mov	r0, r3
 2455 0012 0C37     		adds	r7, r7, #12
 2456              	.LCFI172:
 2457              		.cfi_def_cfa_offset 4
 2458 0014 BD46     		mov	sp, r7
 2459              	.LCFI173:
 2460              		.cfi_def_cfa_register 13
 2461              		@ sp needed
 2462 0016 80BC     		pop	{r7}
 2463              	.LCFI174:
 2464              		.cfi_restore 7
ARM GAS  /tmp/cc1Tfh18.s 			page 63


 2465              		.cfi_def_cfa_offset 0
 2466 0018 7047     		bx	lr
 2467              		.cfi_endproc
 2468              	.LFE97:
 2470              		.section	.text.PCD_EP_ISR_Handler,"ax",%progbits
 2471              		.align	1
 2472              		.syntax unified
 2473              		.thumb
 2474              		.thumb_func
 2475              		.fpu softvfp
 2477              	PCD_EP_ISR_Handler:
 2478              	.LFB98:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
1133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @}
1137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /** @addtogroup PCD_Private_Functions
1140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @{
1141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB_OTG_FS)
1143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  DCD_WriteEmptyTxFifo
1145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *         check FIFO for the next packet to be loaded
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  epnum : endpoint number
1148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   *          This parameter can be a value from 0 to 15  
1149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_WriteEmptyTxFifo(PCD_HandleTypeDef *hpcd, uint32_t epnum)
1152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_GlobalTypeDef *USBx = hpcd->Instance;  
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   USB_OTG_EPTypeDef *ep = NULL;
1155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   int32_t len = 0;
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t len32b = 0U;
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint32_t fifoemptymsk = 0U;
1158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   ep = &hpcd->IN_ep[epnum];
1160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   len = ep->xfer_len - ep->xfer_count;
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if (len > ep->maxpacket)
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     len = ep->maxpacket;
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   len32b = (len + 3U) / 4U;
1168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   while ((USBx_INEP(epnum)->DTXFSTS & USB_OTG_DTXFSTS_INEPTFSAV) > len32b &&
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          ep->xfer_count < ep->xfer_len &&
1171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****          ep->xfer_len != 0U)
1172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* Write the FIFO */
1174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     len = ep->xfer_len - ep->xfer_count;
ARM GAS  /tmp/cc1Tfh18.s 			page 64


1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if ((uint32_t)len > ep->maxpacket)
1177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       len = ep->maxpacket;
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     len32b = (len + 3U) / 4U;
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USB_WritePacket(USBx, ep->xfer_buff, epnum, len);
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep->xfer_buff  += len;
1185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     ep->xfer_count += len;
1186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   if(len <= 0)
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     fifoemptymsk = 0x01U << epnum;
1191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     USBx_DEVICE->DIEPEMPMSK &= ~fifoemptymsk;
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
1196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
1197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #endif /* USB_OTG_FS */
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** #if defined (USB)
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** /**
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @brief  This function handles PCD Endpoint interrupt request.
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   * @retval HAL status
1204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   */
1205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_EP_ISR_Handler(PCD_HandleTypeDef *hpcd)
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** {
 2479              		.loc 1 1206 0
 2480              		.cfi_startproc
 2481              		@ args = 0, pretend = 0, frame = 32
 2482              		@ frame_needed = 1, uses_anonymous_args = 0
 2483 0000 90B5     		push	{r4, r7, lr}
 2484              	.LCFI175:
 2485              		.cfi_def_cfa_offset 12
 2486              		.cfi_offset 4, -12
 2487              		.cfi_offset 7, -8
 2488              		.cfi_offset 14, -4
 2489 0002 89B0     		sub	sp, sp, #36
 2490              	.LCFI176:
 2491              		.cfi_def_cfa_offset 48
 2492 0004 00AF     		add	r7, sp, #0
 2493              	.LCFI177:
 2494              		.cfi_def_cfa_register 7
 2495 0006 7860     		str	r0, [r7, #4]
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   PCD_EPTypeDef *ep = NULL;
 2496              		.loc 1 1207 0
 2497 0008 0023     		movs	r3, #0
 2498 000a FB61     		str	r3, [r7, #28]
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint16_t count = 0;
 2499              		.loc 1 1208 0
 2500 000c 0023     		movs	r3, #0
 2501 000e 7B83     		strh	r3, [r7, #26]	@ movhi
ARM GAS  /tmp/cc1Tfh18.s 			page 65


1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   uint8_t epindex = 0;
 2502              		.loc 1 1209 0
 2503 0010 0023     		movs	r3, #0
 2504 0012 7B76     		strb	r3, [r7, #25]
1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __IO uint16_t wIstr = 0;  
 2505              		.loc 1 1210 0
 2506 0014 0023     		movs	r3, #0
 2507 0016 FB81     		strh	r3, [r7, #14]	@ movhi
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   __IO uint16_t wEPVal = 0;
 2508              		.loc 1 1211 0
 2509 0018 0023     		movs	r3, #0
 2510 001a BB81     		strh	r3, [r7, #12]	@ movhi
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   /* stay in loop while pending interrupts */
1214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   while (((wIstr = hpcd->Instance->ISTR) & USB_ISTR_CTR) != 0)
 2511              		.loc 1 1214 0
 2512 001c 08E3     		b	.L93
 2513              	.L120:
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     /* extract highest priority endpoint number */
1217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     epindex = (uint8_t)(wIstr & USB_ISTR_EP_ID);
 2514              		.loc 1 1217 0
 2515 001e FB89     		ldrh	r3, [r7, #14]	@ movhi
 2516 0020 9BB2     		uxth	r3, r3
 2517 0022 DBB2     		uxtb	r3, r3
 2518 0024 03F00F03 		and	r3, r3, #15
 2519 0028 7B76     		strb	r3, [r7, #25]
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     
1219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     if (epindex == 0)
 2520              		.loc 1 1219 0
 2521 002a 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 2522 002c 002B     		cmp	r3, #0
 2523 002e 40F02A81 		bne	.L94
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Decode and service control endpoint interrupt */
1222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
1223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* DIR bit = origin of the interrupt */   
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if ((wIstr & USB_ISTR_DIR) == 0)
 2524              		.loc 1 1224 0
 2525 0032 FB89     		ldrh	r3, [r7, #14]	@ movhi
 2526 0034 9BB2     		uxth	r3, r3
 2527 0036 03F01003 		and	r3, r3, #16
 2528 003a 002B     		cmp	r3, #0
 2529 003c 4DD1     		bne	.L95
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 0 */
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 0      => IN  int */
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 0 implies that (EP_CTR_TX = 1) always  */
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         PCD_CLEAR_TX_EP_CTR(hpcd->Instance, PCD_ENDP0);
 2530              		.loc 1 1230 0
 2531 003e 7B68     		ldr	r3, [r7, #4]
 2532 0040 1B68     		ldr	r3, [r3]
 2533 0042 1B88     		ldrh	r3, [r3]	@ movhi
 2534 0044 9BB2     		uxth	r3, r3
 2535 0046 7A68     		ldr	r2, [r7, #4]
 2536 0048 1268     		ldr	r2, [r2]
ARM GAS  /tmp/cc1Tfh18.s 			page 66


 2537 004a 23F4E143 		bic	r3, r3, #28800
 2538 004e 23F07003 		bic	r3, r3, #112
 2539 0052 9BB2     		uxth	r3, r3
 2540 0054 1380     		strh	r3, [r2]	@ movhi
1231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->IN_ep[0];
 2541              		.loc 1 1231 0
 2542 0056 7B68     		ldr	r3, [r7, #4]
 2543 0058 2833     		adds	r3, r3, #40
 2544 005a FB61     		str	r3, [r7, #28]
1232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 2545              		.loc 1 1233 0
 2546 005c 7B68     		ldr	r3, [r7, #4]
 2547 005e 1B68     		ldr	r3, [r3]
 2548 0060 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2549 0064 9BB2     		uxth	r3, r3
 2550 0066 1A46     		mov	r2, r3
 2551 0068 FB69     		ldr	r3, [r7, #28]
 2552 006a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2553 006c DB00     		lsls	r3, r3, #3
 2554 006e 1344     		add	r3, r3, r2
 2555 0070 0233     		adds	r3, r3, #2
 2556 0072 5B00     		lsls	r3, r3, #1
 2557 0074 7A68     		ldr	r2, [r7, #4]
 2558 0076 1268     		ldr	r2, [r2]
 2559 0078 1344     		add	r3, r3, r2
 2560 007a 03F58063 		add	r3, r3, #1024
 2561 007e 1B68     		ldr	r3, [r3]
 2562 0080 9BB2     		uxth	r3, r3
 2563 0082 C3F30902 		ubfx	r2, r3, #0, #10
 2564 0086 FB69     		ldr	r3, [r7, #28]
 2565 0088 DA61     		str	r2, [r3, #28]
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_buff += ep->xfer_count;
 2566              		.loc 1 1234 0
 2567 008a FB69     		ldr	r3, [r7, #28]
 2568 008c 5A69     		ldr	r2, [r3, #20]
 2569 008e FB69     		ldr	r3, [r7, #28]
 2570 0090 DB69     		ldr	r3, [r3, #28]
 2571 0092 1A44     		add	r2, r2, r3
 2572 0094 FB69     		ldr	r3, [r7, #28]
 2573 0096 5A61     		str	r2, [r3, #20]
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****  
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* TX COMPLETE */
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         HAL_PCD_DataInStageCallback(hpcd, 0U);
 2574              		.loc 1 1237 0
 2575 0098 0021     		movs	r1, #0
 2576 009a 7868     		ldr	r0, [r7, #4]
 2577 009c FFF7FEFF 		bl	HAL_PCD_DataInStageCallback
1238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if((hpcd->USB_Address > 0U)&& ( ep->xfer_len == 0U))
 2578              		.loc 1 1240 0
 2579 00a0 7B68     		ldr	r3, [r7, #4]
 2580 00a2 93F82430 		ldrb	r3, [r3, #36]
 2581 00a6 DBB2     		uxtb	r3, r3
 2582 00a8 002B     		cmp	r3, #0
 2583 00aa 00F0C182 		beq	.L93
ARM GAS  /tmp/cc1Tfh18.s 			page 67


 2584              		.loc 1 1240 0 is_stmt 0 discriminator 1
 2585 00ae FB69     		ldr	r3, [r7, #28]
 2586 00b0 9B69     		ldr	r3, [r3, #24]
 2587 00b2 002B     		cmp	r3, #0
 2588 00b4 40F0BC82 		bne	.L93
1241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           hpcd->Instance->DADDR = (hpcd->USB_Address | USB_DADDR_EF);
 2589              		.loc 1 1242 0 is_stmt 1
 2590 00b8 7B68     		ldr	r3, [r7, #4]
 2591 00ba 93F82430 		ldrb	r3, [r3, #36]
 2592 00be DBB2     		uxtb	r3, r3
 2593 00c0 63F07F03 		orn	r3, r3, #127
 2594 00c4 DAB2     		uxtb	r2, r3
 2595 00c6 7B68     		ldr	r3, [r7, #4]
 2596 00c8 1B68     		ldr	r3, [r3]
 2597 00ca 92B2     		uxth	r2, r2
 2598 00cc A3F84C20 		strh	r2, [r3, #76]	@ movhi
1243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           hpcd->USB_Address = 0U;
 2599              		.loc 1 1243 0
 2600 00d0 7B68     		ldr	r3, [r7, #4]
 2601 00d2 0022     		movs	r2, #0
 2602 00d4 83F82420 		strb	r2, [r3, #36]
 2603 00d8 AAE2     		b	.L93
 2604              	.L95:
1244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
1247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       else
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
1249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 1 */
1250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 1 & CTR_RX       => SETUP or OUT int */
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* DIR = 1 & (CTR_TX | CTR_RX) => 2 int pending */
1253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->OUT_ep[0U];
 2605              		.loc 1 1253 0
 2606 00da 7B68     		ldr	r3, [r7, #4]
 2607 00dc 03F50A73 		add	r3, r3, #552
 2608 00e0 FB61     		str	r3, [r7, #28]
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         wEPVal = PCD_GET_ENDPOINT(hpcd->Instance, PCD_ENDP0);
 2609              		.loc 1 1254 0
 2610 00e2 7B68     		ldr	r3, [r7, #4]
 2611 00e4 1B68     		ldr	r3, [r3]
 2612 00e6 1B88     		ldrh	r3, [r3]	@ movhi
 2613 00e8 9BB2     		uxth	r3, r3
 2614 00ea BB81     		strh	r3, [r7, #12]	@ movhi
1255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if ((wEPVal & USB_EP_SETUP) != 0U)
 2615              		.loc 1 1256 0
 2616 00ec BB89     		ldrh	r3, [r7, #12]	@ movhi
 2617 00ee 9BB2     		uxth	r3, r3
 2618 00f0 03F40063 		and	r3, r3, #2048
 2619 00f4 002B     		cmp	r3, #0
 2620 00f6 31D0     		beq	.L98
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Get SETUP Packet*/
1259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 2621              		.loc 1 1259 0
ARM GAS  /tmp/cc1Tfh18.s 			page 68


 2622 00f8 7B68     		ldr	r3, [r7, #4]
 2623 00fa 1B68     		ldr	r3, [r3]
 2624 00fc B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2625 0100 9BB2     		uxth	r3, r3
 2626 0102 1A46     		mov	r2, r3
 2627 0104 FB69     		ldr	r3, [r7, #28]
 2628 0106 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2629 0108 DB00     		lsls	r3, r3, #3
 2630 010a 1344     		add	r3, r3, r2
 2631 010c 0633     		adds	r3, r3, #6
 2632 010e 5B00     		lsls	r3, r3, #1
 2633 0110 7A68     		ldr	r2, [r7, #4]
 2634 0112 1268     		ldr	r2, [r2]
 2635 0114 1344     		add	r3, r3, r2
 2636 0116 03F58063 		add	r3, r3, #1024
 2637 011a 1B68     		ldr	r3, [r3]
 2638 011c 9BB2     		uxth	r3, r3
 2639 011e C3F30902 		ubfx	r2, r3, #0, #10
 2640 0122 FB69     		ldr	r3, [r7, #28]
 2641 0124 DA61     		str	r2, [r3, #28]
1260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           USB_ReadPMA(hpcd->Instance, (uint8_t*)hpcd->Setup ,ep->pmaadress , ep->xfer_count);      
 2642              		.loc 1 1260 0
 2643 0126 7B68     		ldr	r3, [r7, #4]
 2644 0128 1868     		ldr	r0, [r3]
 2645 012a 7B68     		ldr	r3, [r7, #4]
 2646 012c 03F22C41 		addw	r1, r3, #1068
 2647 0130 FB69     		ldr	r3, [r7, #28]
 2648 0132 9A88     		ldrh	r2, [r3, #4]
 2649 0134 FB69     		ldr	r3, [r7, #28]
 2650 0136 DB69     		ldr	r3, [r3, #28]
 2651 0138 9BB2     		uxth	r3, r3
 2652 013a FFF7FEFF 		bl	USB_ReadPMA
1261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* SETUP bit kept frozen while CTR_RX = 1*/ 
1262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_CLEAR_RX_EP_CTR(hpcd->Instance, PCD_ENDP0); 
 2653              		.loc 1 1262 0
 2654 013e 7B68     		ldr	r3, [r7, #4]
 2655 0140 1B68     		ldr	r3, [r3]
 2656 0142 1B88     		ldrh	r3, [r3]	@ movhi
 2657 0144 99B2     		uxth	r1, r3
 2658 0146 7B68     		ldr	r3, [r7, #4]
 2659 0148 1A68     		ldr	r2, [r3]
 2660 014a 40F68F73 		movw	r3, #3983
 2661 014e 0B40     		ands	r3, r3, r1
 2662 0150 9BB2     		uxth	r3, r3
 2663 0152 1380     		strh	r3, [r2]	@ movhi
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Process SETUP Packet*/
1265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_SetupStageCallback(hpcd);
 2664              		.loc 1 1265 0
 2665 0154 7868     		ldr	r0, [r7, #4]
 2666 0156 FFF7FEFF 		bl	HAL_PCD_SetupStageCallback
 2667 015a 69E2     		b	.L93
 2668              	.L98:
1266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else if ((wEPVal & USB_EP_CTR_RX) != 0U)
 2669              		.loc 1 1268 0
ARM GAS  /tmp/cc1Tfh18.s 			page 69


 2670 015c BB89     		ldrh	r3, [r7, #12]	@ movhi
 2671 015e 9BB2     		uxth	r3, r3
 2672 0160 1BB2     		sxth	r3, r3
 2673 0162 002B     		cmp	r3, #0
 2674 0164 80F26482 		bge	.L93
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_CLEAR_RX_EP_CTR(hpcd->Instance, PCD_ENDP0);
 2675              		.loc 1 1270 0
 2676 0168 7B68     		ldr	r3, [r7, #4]
 2677 016a 1B68     		ldr	r3, [r3]
 2678 016c 1B88     		ldrh	r3, [r3]	@ movhi
 2679 016e 99B2     		uxth	r1, r3
 2680 0170 7B68     		ldr	r3, [r7, #4]
 2681 0172 1A68     		ldr	r2, [r3]
 2682 0174 40F68F73 		movw	r3, #3983
 2683 0178 0B40     		ands	r3, r3, r1
 2684 017a 9BB2     		uxth	r3, r3
 2685 017c 1380     		strh	r3, [r2]	@ movhi
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Get Control Data OUT Packet*/
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 2686              		.loc 1 1272 0
 2687 017e 7B68     		ldr	r3, [r7, #4]
 2688 0180 1B68     		ldr	r3, [r3]
 2689 0182 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2690 0186 9BB2     		uxth	r3, r3
 2691 0188 1A46     		mov	r2, r3
 2692 018a FB69     		ldr	r3, [r7, #28]
 2693 018c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2694 018e DB00     		lsls	r3, r3, #3
 2695 0190 1344     		add	r3, r3, r2
 2696 0192 0633     		adds	r3, r3, #6
 2697 0194 5B00     		lsls	r3, r3, #1
 2698 0196 7A68     		ldr	r2, [r7, #4]
 2699 0198 1268     		ldr	r2, [r2]
 2700 019a 1344     		add	r3, r3, r2
 2701 019c 03F58063 		add	r3, r3, #1024
 2702 01a0 1B68     		ldr	r3, [r3]
 2703 01a2 9BB2     		uxth	r3, r3
 2704 01a4 C3F30902 		ubfx	r2, r3, #0, #10
 2705 01a8 FB69     		ldr	r3, [r7, #28]
 2706 01aa DA61     		str	r2, [r3, #28]
1273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (ep->xfer_count != 0U)
 2707              		.loc 1 1274 0
 2708 01ac FB69     		ldr	r3, [r7, #28]
 2709 01ae DB69     		ldr	r3, [r3, #28]
 2710 01b0 002B     		cmp	r3, #0
 2711 01b2 11D0     		beq	.L99
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, ep->xfer_count);
 2712              		.loc 1 1276 0
 2713 01b4 7B68     		ldr	r3, [r7, #4]
 2714 01b6 1868     		ldr	r0, [r3]
 2715 01b8 FB69     		ldr	r3, [r7, #28]
 2716 01ba 5969     		ldr	r1, [r3, #20]
 2717 01bc FB69     		ldr	r3, [r7, #28]
 2718 01be 9A88     		ldrh	r2, [r3, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 70


 2719 01c0 FB69     		ldr	r3, [r7, #28]
 2720 01c2 DB69     		ldr	r3, [r3, #28]
 2721 01c4 9BB2     		uxth	r3, r3
 2722 01c6 FFF7FEFF 		bl	USB_ReadPMA
1277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ep->xfer_buff+=ep->xfer_count;
 2723              		.loc 1 1277 0
 2724 01ca FB69     		ldr	r3, [r7, #28]
 2725 01cc 5A69     		ldr	r2, [r3, #20]
 2726 01ce FB69     		ldr	r3, [r7, #28]
 2727 01d0 DB69     		ldr	r3, [r3, #28]
 2728 01d2 1A44     		add	r2, r2, r3
 2729 01d4 FB69     		ldr	r3, [r7, #28]
 2730 01d6 5A61     		str	r2, [r3, #20]
 2731              	.L99:
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* Process Control Data OUT Packet*/
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****            HAL_PCD_DataOutStageCallback(hpcd, 0U);
 2732              		.loc 1 1281 0
 2733 01d8 0021     		movs	r1, #0
 2734 01da 7868     		ldr	r0, [r7, #4]
 2735 01dc FFF7FEFF 		bl	HAL_PCD_DataOutStageCallback
 2736              	.LBB2:
1282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           
1283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_SET_EP_RX_CNT(hpcd->Instance, PCD_ENDP0, ep->maxpacket);
 2737              		.loc 1 1283 0
 2738 01e0 7B68     		ldr	r3, [r7, #4]
 2739 01e2 1B68     		ldr	r3, [r3]
 2740 01e4 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2741 01e8 9BB2     		uxth	r3, r3
 2742 01ea 0633     		adds	r3, r3, #6
 2743 01ec 5B00     		lsls	r3, r3, #1
 2744 01ee 7A68     		ldr	r2, [r7, #4]
 2745 01f0 1268     		ldr	r2, [r2]
 2746 01f2 1344     		add	r3, r3, r2
 2747 01f4 03F58063 		add	r3, r3, #1024
 2748 01f8 3B61     		str	r3, [r7, #16]
 2749              	.LBB3:
 2750 01fa FB69     		ldr	r3, [r7, #28]
 2751 01fc 1B69     		ldr	r3, [r3, #16]
 2752 01fe 3E2B     		cmp	r3, #62
 2753 0200 18D9     		bls	.L100
 2754              		.loc 1 1283 0 is_stmt 0 discriminator 1
 2755 0202 FB69     		ldr	r3, [r7, #28]
 2756 0204 1B69     		ldr	r3, [r3, #16]
 2757 0206 5B09     		lsrs	r3, r3, #5
 2758 0208 FB82     		strh	r3, [r7, #22]	@ movhi
 2759 020a FB69     		ldr	r3, [r7, #28]
 2760 020c 1B69     		ldr	r3, [r3, #16]
 2761 020e 03F01F03 		and	r3, r3, #31
 2762 0212 002B     		cmp	r3, #0
 2763 0214 02D1     		bne	.L101
 2764              		.loc 1 1283 0 discriminator 3
 2765 0216 FB8A     		ldrh	r3, [r7, #22]
 2766 0218 013B     		subs	r3, r3, #1
 2767 021a FB82     		strh	r3, [r7, #22]	@ movhi
 2768              	.L101:
ARM GAS  /tmp/cc1Tfh18.s 			page 71


 2769              		.loc 1 1283 0 discriminator 5
 2770 021c FB8A     		ldrh	r3, [r7, #22]	@ movhi
 2771 021e 9B02     		lsls	r3, r3, #10
 2772 0220 9BB2     		uxth	r3, r3
 2773 0222 6FEA4343 		mvn	r3, r3, lsl #17
 2774 0226 6FEA5343 		mvn	r3, r3, lsr #17
 2775 022a 9BB2     		uxth	r3, r3
 2776 022c 1A46     		mov	r2, r3
 2777 022e 3B69     		ldr	r3, [r7, #16]
 2778 0230 1A60     		str	r2, [r3]
 2779 0232 12E0     		b	.L102
 2780              	.L100:
 2781              		.loc 1 1283 0 discriminator 2
 2782 0234 FB69     		ldr	r3, [r7, #28]
 2783 0236 1B69     		ldr	r3, [r3, #16]
 2784 0238 5B08     		lsrs	r3, r3, #1
 2785 023a FB82     		strh	r3, [r7, #22]	@ movhi
 2786 023c FB69     		ldr	r3, [r7, #28]
 2787 023e 1B69     		ldr	r3, [r3, #16]
 2788 0240 03F00103 		and	r3, r3, #1
 2789 0244 002B     		cmp	r3, #0
 2790 0246 02D0     		beq	.L103
 2791              		.loc 1 1283 0 discriminator 6
 2792 0248 FB8A     		ldrh	r3, [r7, #22]
 2793 024a 0133     		adds	r3, r3, #1
 2794 024c FB82     		strh	r3, [r7, #22]	@ movhi
 2795              	.L103:
 2796              		.loc 1 1283 0 discriminator 8
 2797 024e FB8A     		ldrh	r3, [r7, #22]	@ movhi
 2798 0250 9B02     		lsls	r3, r3, #10
 2799 0252 9BB2     		uxth	r3, r3
 2800 0254 1A46     		mov	r2, r3
 2801 0256 3B69     		ldr	r3, [r7, #16]
 2802 0258 1A60     		str	r2, [r3]
 2803              	.L102:
 2804              	.LBE3:
 2805              	.LBE2:
 2806              	.LBB4:
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_SET_EP_RX_STATUS(hpcd->Instance, PCD_ENDP0, USB_EP_RX_VALID);
 2807              		.loc 1 1284 0 is_stmt 1
 2808 025a 7B68     		ldr	r3, [r7, #4]
 2809 025c 1B68     		ldr	r3, [r3]
 2810 025e 1B88     		ldrh	r3, [r3]	@ movhi
 2811 0260 9BB2     		uxth	r3, r3
 2812 0262 23F48043 		bic	r3, r3, #16384
 2813 0266 23F07003 		bic	r3, r3, #112
 2814 026a 9CB2     		uxth	r4, r3
 2815 026c 84F48053 		eor	r3, r4, #4096
 2816 0270 9CB2     		uxth	r4, r3
 2817 0272 84F40053 		eor	r3, r4, #8192
 2818 0276 9CB2     		uxth	r4, r3
 2819 0278 7B68     		ldr	r3, [r7, #4]
 2820 027a 1A68     		ldr	r2, [r3]
 2821 027c 984B     		ldr	r3, .L124
 2822 027e 2343     		orrs	r3, r3, r4
 2823 0280 9BB2     		uxth	r3, r3
 2824 0282 1380     		strh	r3, [r2]	@ movhi
ARM GAS  /tmp/cc1Tfh18.s 			page 72


 2825              	.LBE4:
 2826 0284 D4E1     		b	.L93
 2827              	.L94:
1285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       }
1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
1288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     else
1289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     {
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* Decode and service non control endpoints interrupt  */
1291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** 	  
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       /* process related endpoint register */
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       wEPVal = PCD_GET_ENDPOINT(hpcd->Instance, epindex);
 2828              		.loc 1 1293 0
 2829 0286 7B68     		ldr	r3, [r7, #4]
 2830 0288 1B68     		ldr	r3, [r3]
 2831 028a 1A46     		mov	r2, r3
 2832 028c 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 2833 028e 9B00     		lsls	r3, r3, #2
 2834 0290 1344     		add	r3, r3, r2
 2835 0292 1B88     		ldrh	r3, [r3]	@ movhi
 2836 0294 9BB2     		uxth	r3, r3
 2837 0296 BB81     		strh	r3, [r7, #12]	@ movhi
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if ((wEPVal & USB_EP_CTR_RX) != 0U)
 2838              		.loc 1 1294 0
 2839 0298 BB89     		ldrh	r3, [r7, #12]	@ movhi
 2840 029a 9BB2     		uxth	r3, r3
 2841 029c 1BB2     		sxth	r3, r3
 2842 029e 002B     		cmp	r3, #0
 2843 02a0 80F2D080 		bge	.L104
1295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {  
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* clear int flag */
1297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         PCD_CLEAR_RX_EP_CTR(hpcd->Instance, epindex);
 2844              		.loc 1 1297 0
 2845 02a4 7B68     		ldr	r3, [r7, #4]
 2846 02a6 1B68     		ldr	r3, [r3]
 2847 02a8 1A46     		mov	r2, r3
 2848 02aa 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 2849 02ac 9B00     		lsls	r3, r3, #2
 2850 02ae 1344     		add	r3, r3, r2
 2851 02b0 1B88     		ldrh	r3, [r3]	@ movhi
 2852 02b2 99B2     		uxth	r1, r3
 2853 02b4 7B68     		ldr	r3, [r7, #4]
 2854 02b6 1B68     		ldr	r3, [r3]
 2855 02b8 1A46     		mov	r2, r3
 2856 02ba 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 2857 02bc 9B00     		lsls	r3, r3, #2
 2858 02be 1A44     		add	r2, r2, r3
 2859 02c0 40F68F73 		movw	r3, #3983
 2860 02c4 0B40     		ands	r3, r3, r1
 2861 02c6 9BB2     		uxth	r3, r3
 2862 02c8 1380     		strh	r3, [r2]	@ movhi
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->OUT_ep[epindex];
 2863              		.loc 1 1298 0
 2864 02ca 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 2865 02cc 5B01     		lsls	r3, r3, #5
 2866 02ce 03F50A73 		add	r3, r3, #552
 2867 02d2 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 73


 2868 02d4 1344     		add	r3, r3, r2
 2869 02d6 FB61     		str	r3, [r7, #28]
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* OUT double Buffering*/
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep->doublebuffer == 0U)
 2870              		.loc 1 1301 0
 2871 02d8 FB69     		ldr	r3, [r7, #28]
 2872 02da 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 2873 02dc 002B     		cmp	r3, #0
 2874 02de 22D1     		bne	.L105
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 2875              		.loc 1 1303 0
 2876 02e0 7B68     		ldr	r3, [r7, #4]
 2877 02e2 1B68     		ldr	r3, [r3]
 2878 02e4 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2879 02e8 9BB2     		uxth	r3, r3
 2880 02ea 1A46     		mov	r2, r3
 2881 02ec FB69     		ldr	r3, [r7, #28]
 2882 02ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2883 02f0 DB00     		lsls	r3, r3, #3
 2884 02f2 1344     		add	r3, r3, r2
 2885 02f4 0633     		adds	r3, r3, #6
 2886 02f6 5B00     		lsls	r3, r3, #1
 2887 02f8 7A68     		ldr	r2, [r7, #4]
 2888 02fa 1268     		ldr	r2, [r2]
 2889 02fc 1344     		add	r3, r3, r2
 2890 02fe 03F58063 		add	r3, r3, #1024
 2891 0302 1B68     		ldr	r3, [r3]
 2892 0304 9BB2     		uxth	r3, r3
 2893 0306 C3F30903 		ubfx	r3, r3, #0, #10
 2894 030a 7B83     		strh	r3, [r7, #26]	@ movhi
1304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (count != 0U)
 2895              		.loc 1 1304 0
 2896 030c 7B8B     		ldrh	r3, [r7, #26]
 2897 030e 002B     		cmp	r3, #0
 2898 0310 73D0     		beq	.L107
1305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, count);
 2899              		.loc 1 1306 0
 2900 0312 7B68     		ldr	r3, [r7, #4]
 2901 0314 1868     		ldr	r0, [r3]
 2902 0316 FB69     		ldr	r3, [r7, #28]
 2903 0318 5969     		ldr	r1, [r3, #20]
 2904 031a FB69     		ldr	r3, [r7, #28]
 2905 031c 9A88     		ldrh	r2, [r3, #4]
 2906 031e 7B8B     		ldrh	r3, [r7, #26]
 2907 0320 FFF7FEFF 		bl	USB_ReadPMA
 2908 0324 69E0     		b	.L107
 2909              	.L105:
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (PCD_GET_ENDPOINT(hpcd->Instance, ep->num) & USB_EP_DTOG_RX)
 2910              		.loc 1 1311 0
 2911 0326 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc1Tfh18.s 			page 74


 2912 0328 1B68     		ldr	r3, [r3]
 2913 032a 1A46     		mov	r2, r3
 2914 032c FB69     		ldr	r3, [r7, #28]
 2915 032e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2916 0330 9B00     		lsls	r3, r3, #2
 2917 0332 1344     		add	r3, r3, r2
 2918 0334 1B88     		ldrh	r3, [r3]	@ movhi
 2919 0336 9BB2     		uxth	r3, r3
 2920 0338 03F48043 		and	r3, r3, #16384
 2921 033c 002B     		cmp	r3, #0
 2922 033e 22D0     		beq	.L108
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF0Addr buffer*/
1314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             count = PCD_GET_EP_DBUF0_CNT(hpcd->Instance, ep->num);
 2923              		.loc 1 1314 0
 2924 0340 7B68     		ldr	r3, [r7, #4]
 2925 0342 1B68     		ldr	r3, [r3]
 2926 0344 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2927 0348 9BB2     		uxth	r3, r3
 2928 034a 1A46     		mov	r2, r3
 2929 034c FB69     		ldr	r3, [r7, #28]
 2930 034e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2931 0350 DB00     		lsls	r3, r3, #3
 2932 0352 1344     		add	r3, r3, r2
 2933 0354 0233     		adds	r3, r3, #2
 2934 0356 5B00     		lsls	r3, r3, #1
 2935 0358 7A68     		ldr	r2, [r7, #4]
 2936 035a 1268     		ldr	r2, [r2]
 2937 035c 1344     		add	r3, r3, r2
 2938 035e 03F58063 		add	r3, r3, #1024
 2939 0362 1B68     		ldr	r3, [r3]
 2940 0364 9BB2     		uxth	r3, r3
 2941 0366 C3F30903 		ubfx	r3, r3, #0, #10
 2942 036a 7B83     		strh	r3, [r7, #26]	@ movhi
1315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (count != 0U)
 2943              		.loc 1 1315 0
 2944 036c 7B8B     		ldrh	r3, [r7, #26]
 2945 036e 002B     		cmp	r3, #0
 2946 0370 2BD0     		beq	.L122
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr0, count);
 2947              		.loc 1 1317 0
 2948 0372 7B68     		ldr	r3, [r7, #4]
 2949 0374 1868     		ldr	r0, [r3]
 2950 0376 FB69     		ldr	r3, [r7, #28]
 2951 0378 5969     		ldr	r1, [r3, #20]
 2952 037a FB69     		ldr	r3, [r7, #28]
 2953 037c DA88     		ldrh	r2, [r3, #6]
 2954 037e 7B8B     		ldrh	r3, [r7, #26]
 2955 0380 FFF7FEFF 		bl	USB_ReadPMA
 2956 0384 21E0     		b	.L122
 2957              	.L108:
1318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           else
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF1Addr buffer*/
ARM GAS  /tmp/cc1Tfh18.s 			page 75


1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             count = PCD_GET_EP_DBUF1_CNT(hpcd->Instance, ep->num);
 2958              		.loc 1 1323 0
 2959 0386 7B68     		ldr	r3, [r7, #4]
 2960 0388 1B68     		ldr	r3, [r3]
 2961 038a B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 2962 038e 9BB2     		uxth	r3, r3
 2963 0390 1A46     		mov	r2, r3
 2964 0392 FB69     		ldr	r3, [r7, #28]
 2965 0394 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2966 0396 DB00     		lsls	r3, r3, #3
 2967 0398 1344     		add	r3, r3, r2
 2968 039a 0633     		adds	r3, r3, #6
 2969 039c 5B00     		lsls	r3, r3, #1
 2970 039e 7A68     		ldr	r2, [r7, #4]
 2971 03a0 1268     		ldr	r2, [r2]
 2972 03a2 1344     		add	r3, r3, r2
 2973 03a4 03F58063 		add	r3, r3, #1024
 2974 03a8 1B68     		ldr	r3, [r3]
 2975 03aa 9BB2     		uxth	r3, r3
 2976 03ac C3F30903 		ubfx	r3, r3, #0, #10
 2977 03b0 7B83     		strh	r3, [r7, #26]	@ movhi
1324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (count != 0U)
 2978              		.loc 1 1324 0
 2979 03b2 7B8B     		ldrh	r3, [r7, #26]
 2980 03b4 002B     		cmp	r3, #0
 2981 03b6 08D0     		beq	.L122
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr1, count);
 2982              		.loc 1 1326 0
 2983 03b8 7B68     		ldr	r3, [r7, #4]
 2984 03ba 1868     		ldr	r0, [r3]
 2985 03bc FB69     		ldr	r3, [r7, #28]
 2986 03be 5969     		ldr	r1, [r3, #20]
 2987 03c0 FB69     		ldr	r3, [r7, #28]
 2988 03c2 1A89     		ldrh	r2, [r3, #8]
 2989 03c4 7B8B     		ldrh	r3, [r7, #26]
 2990 03c6 FFF7FEFF 		bl	USB_ReadPMA
 2991              	.L122:
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_FreeUserBuffer(hpcd->Instance, ep->num, PCD_EP_DBUF_OUT);  
 2992              		.loc 1 1329 0 discriminator 1
 2993 03ca 7B68     		ldr	r3, [r7, #4]
 2994 03cc 1B68     		ldr	r3, [r3]
 2995 03ce 1A46     		mov	r2, r3
 2996 03d0 FB69     		ldr	r3, [r7, #28]
 2997 03d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2998 03d4 9B00     		lsls	r3, r3, #2
 2999 03d6 1344     		add	r3, r3, r2
 3000 03d8 1B88     		ldrh	r3, [r3]	@ movhi
 3001 03da 9AB2     		uxth	r2, r3
 3002 03dc 40F60F73 		movw	r3, #3855
 3003 03e0 1340     		ands	r3, r3, r2
 3004 03e2 99B2     		uxth	r1, r3
 3005 03e4 7B68     		ldr	r3, [r7, #4]
 3006 03e6 1B68     		ldr	r3, [r3]
 3007 03e8 1A46     		mov	r2, r3
ARM GAS  /tmp/cc1Tfh18.s 			page 76


 3008 03ea FB69     		ldr	r3, [r7, #28]
 3009 03ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3010 03ee 9B00     		lsls	r3, r3, #2
 3011 03f0 1A44     		add	r2, r2, r3
 3012 03f2 3C4B     		ldr	r3, .L124+4
 3013 03f4 0B43     		orrs	r3, r3, r1
 3014 03f6 9BB2     		uxth	r3, r3
 3015 03f8 1380     		strh	r3, [r2]	@ movhi
 3016              	.L107:
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /*multi-packet on the NON control OUT endpoint*/
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count+=count;
 3017              		.loc 1 1332 0
 3018 03fa FB69     		ldr	r3, [r7, #28]
 3019 03fc DA69     		ldr	r2, [r3, #28]
 3020 03fe 7B8B     		ldrh	r3, [r7, #26]
 3021 0400 1A44     		add	r2, r2, r3
 3022 0402 FB69     		ldr	r3, [r7, #28]
 3023 0404 DA61     		str	r2, [r3, #28]
1333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_buff+=count;
 3024              		.loc 1 1333 0
 3025 0406 FB69     		ldr	r3, [r7, #28]
 3026 0408 5A69     		ldr	r2, [r3, #20]
 3027 040a 7B8B     		ldrh	r3, [r7, #26]
 3028 040c 1A44     		add	r2, r2, r3
 3029 040e FB69     		ldr	r3, [r7, #28]
 3030 0410 5A61     		str	r2, [r3, #20]
1334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****        
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if ((ep->xfer_len == 0U) || (count < ep->maxpacket))
 3031              		.loc 1 1335 0
 3032 0412 FB69     		ldr	r3, [r7, #28]
 3033 0414 9B69     		ldr	r3, [r3, #24]
 3034 0416 002B     		cmp	r3, #0
 3035 0418 04D0     		beq	.L111
 3036              		.loc 1 1335 0 is_stmt 0 discriminator 1
 3037 041a 7A8B     		ldrh	r2, [r7, #26]
 3038 041c FB69     		ldr	r3, [r7, #28]
 3039 041e 1B69     		ldr	r3, [r3, #16]
 3040 0420 9A42     		cmp	r2, r3
 3041 0422 06D2     		bcs	.L112
 3042              	.L111:
1336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* RX COMPLETE */
1338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_DataOutStageCallback(hpcd, ep->num);
 3043              		.loc 1 1338 0 is_stmt 1
 3044 0424 FB69     		ldr	r3, [r7, #28]
 3045 0426 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3046 0428 1946     		mov	r1, r3
 3047 042a 7868     		ldr	r0, [r7, #4]
 3048 042c FFF7FEFF 		bl	HAL_PCD_DataOutStageCallback
 3049 0430 08E0     		b	.L104
 3050              	.L112:
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_EP_Receive(hpcd, ep->num, ep->xfer_buff, ep->xfer_len);
 3051              		.loc 1 1342 0
ARM GAS  /tmp/cc1Tfh18.s 			page 77


 3052 0432 FB69     		ldr	r3, [r7, #28]
 3053 0434 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3054 0436 FB69     		ldr	r3, [r7, #28]
 3055 0438 5A69     		ldr	r2, [r3, #20]
 3056 043a FB69     		ldr	r3, [r7, #28]
 3057 043c 9B69     		ldr	r3, [r3, #24]
 3058 043e 7868     		ldr	r0, [r7, #4]
 3059 0440 FFF7FEFF 		bl	HAL_PCD_EP_Receive
 3060              	.L104:
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       } /* if((wEPVal & EP_CTR_RX) */
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       if ((wEPVal & USB_EP_CTR_TX) != 0U)
 3061              		.loc 1 1347 0
 3062 0444 BB89     		ldrh	r3, [r7, #12]	@ movhi
 3063 0446 9BB2     		uxth	r3, r3
 3064 0448 03F08003 		and	r3, r3, #128
 3065 044c 002B     		cmp	r3, #0
 3066 044e 00F0EF80 		beq	.L93
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       {
1349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep = &hpcd->IN_ep[epindex];
 3067              		.loc 1 1349 0
 3068 0452 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 3069 0454 5B01     		lsls	r3, r3, #5
 3070 0456 2833     		adds	r3, r3, #40
 3071 0458 7A68     		ldr	r2, [r7, #4]
 3072 045a 1344     		add	r3, r3, r2
 3073 045c FB61     		str	r3, [r7, #28]
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* clear int flag */
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         PCD_CLEAR_TX_EP_CTR(hpcd->Instance, epindex);
 3074              		.loc 1 1352 0
 3075 045e 7B68     		ldr	r3, [r7, #4]
 3076 0460 1B68     		ldr	r3, [r3]
 3077 0462 1A46     		mov	r2, r3
 3078 0464 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 3079 0466 9B00     		lsls	r3, r3, #2
 3080 0468 1344     		add	r3, r3, r2
 3081 046a 1B88     		ldrh	r3, [r3]	@ movhi
 3082 046c 9BB2     		uxth	r3, r3
 3083 046e 7A68     		ldr	r2, [r7, #4]
 3084 0470 1268     		ldr	r2, [r2]
 3085 0472 1146     		mov	r1, r2
 3086 0474 7A7E     		ldrb	r2, [r7, #25]	@ zero_extendqisi2
 3087 0476 9200     		lsls	r2, r2, #2
 3088 0478 0A44     		add	r2, r2, r1
 3089 047a 23F4E143 		bic	r3, r3, #28800
 3090 047e 23F07003 		bic	r3, r3, #112
 3091 0482 9BB2     		uxth	r3, r3
 3092 0484 1380     		strh	r3, [r2]	@ movhi
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* IN double Buffering*/
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep->doublebuffer == 0U)
 3093              		.loc 1 1355 0
 3094 0486 FB69     		ldr	r3, [r7, #28]
 3095 0488 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
ARM GAS  /tmp/cc1Tfh18.s 			page 78


 3096 048a 002B     		cmp	r3, #0
 3097 048c 2CD1     		bne	.L113
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 3098              		.loc 1 1357 0
 3099 048e 7B68     		ldr	r3, [r7, #4]
 3100 0490 1B68     		ldr	r3, [r3]
 3101 0492 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3102 0496 9BB2     		uxth	r3, r3
 3103 0498 1A46     		mov	r2, r3
 3104 049a FB69     		ldr	r3, [r7, #28]
 3105 049c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3106 049e DB00     		lsls	r3, r3, #3
 3107 04a0 1344     		add	r3, r3, r2
 3108 04a2 0233     		adds	r3, r3, #2
 3109 04a4 5B00     		lsls	r3, r3, #1
 3110 04a6 7A68     		ldr	r2, [r7, #4]
 3111 04a8 1268     		ldr	r2, [r2]
 3112 04aa 1344     		add	r3, r3, r2
 3113 04ac 03F58063 		add	r3, r3, #1024
 3114 04b0 1B68     		ldr	r3, [r3]
 3115 04b2 9BB2     		uxth	r3, r3
 3116 04b4 C3F30902 		ubfx	r2, r3, #0, #10
 3117 04b8 FB69     		ldr	r3, [r7, #28]
 3118 04ba DA61     		str	r2, [r3, #28]
1358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (ep->xfer_count != 0U)
 3119              		.loc 1 1358 0
 3120 04bc FB69     		ldr	r3, [r7, #28]
 3121 04be DB69     		ldr	r3, [r3, #28]
 3122 04c0 002B     		cmp	r3, #0
 3123 04c2 00F08380 		beq	.L115
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             USB_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, ep->xfer_count);
 3124              		.loc 1 1360 0
 3125 04c6 7B68     		ldr	r3, [r7, #4]
 3126 04c8 1868     		ldr	r0, [r3]
 3127 04ca FB69     		ldr	r3, [r7, #28]
 3128 04cc 5969     		ldr	r1, [r3, #20]
 3129 04ce FB69     		ldr	r3, [r7, #28]
 3130 04d0 9A88     		ldrh	r2, [r3, #4]
 3131 04d2 FB69     		ldr	r3, [r7, #28]
 3132 04d4 DB69     		ldr	r3, [r3, #28]
 3133 04d6 9BB2     		uxth	r3, r3
 3134 04d8 FFF7FEFF 		bl	USB_WritePMA
 3135 04dc 76E0     		b	.L115
 3136              	.L125:
 3137 04de 00BF     		.align	2
 3138              	.L124:
 3139 04e0 8080FFFF 		.word	-32640
 3140 04e4 C080FFFF 		.word	-32576
 3141              	.L113:
1361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           if (PCD_GET_ENDPOINT(hpcd->Instance, ep->num) & USB_EP_DTOG_TX)
 3142              		.loc 1 1365 0
ARM GAS  /tmp/cc1Tfh18.s 			page 79


 3143 04e8 7B68     		ldr	r3, [r7, #4]
 3144 04ea 1B68     		ldr	r3, [r3]
 3145 04ec 1A46     		mov	r2, r3
 3146 04ee FB69     		ldr	r3, [r7, #28]
 3147 04f0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3148 04f2 9B00     		lsls	r3, r3, #2
 3149 04f4 1344     		add	r3, r3, r2
 3150 04f6 1B88     		ldrh	r3, [r3]	@ movhi
 3151 04f8 9BB2     		uxth	r3, r3
 3152 04fa 03F04003 		and	r3, r3, #64
 3153 04fe 002B     		cmp	r3, #0
 3154 0500 26D0     		beq	.L116
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF0Addr buffer*/
1368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ep->xfer_count = PCD_GET_EP_DBUF0_CNT(hpcd->Instance, ep->num);
 3155              		.loc 1 1368 0
 3156 0502 7B68     		ldr	r3, [r7, #4]
 3157 0504 1B68     		ldr	r3, [r3]
 3158 0506 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3159 050a 9BB2     		uxth	r3, r3
 3160 050c 1A46     		mov	r2, r3
 3161 050e FB69     		ldr	r3, [r7, #28]
 3162 0510 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3163 0512 DB00     		lsls	r3, r3, #3
 3164 0514 1344     		add	r3, r3, r2
 3165 0516 0233     		adds	r3, r3, #2
 3166 0518 5B00     		lsls	r3, r3, #1
 3167 051a 7A68     		ldr	r2, [r7, #4]
 3168 051c 1268     		ldr	r2, [r2]
 3169 051e 1344     		add	r3, r3, r2
 3170 0520 03F58063 		add	r3, r3, #1024
 3171 0524 1B68     		ldr	r3, [r3]
 3172 0526 9BB2     		uxth	r3, r3
 3173 0528 C3F30902 		ubfx	r2, r3, #0, #10
 3174 052c FB69     		ldr	r3, [r7, #28]
 3175 052e DA61     		str	r2, [r3, #28]
1369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (ep->xfer_count != 0U)
 3176              		.loc 1 1369 0
 3177 0530 FB69     		ldr	r3, [r7, #28]
 3178 0532 DB69     		ldr	r3, [r3, #28]
 3179 0534 002B     		cmp	r3, #0
 3180 0536 31D0     		beq	.L123
1370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr0, ep->xfer_count);
 3181              		.loc 1 1371 0
 3182 0538 7B68     		ldr	r3, [r7, #4]
 3183 053a 1868     		ldr	r0, [r3]
 3184 053c FB69     		ldr	r3, [r7, #28]
 3185 053e 5969     		ldr	r1, [r3, #20]
 3186 0540 FB69     		ldr	r3, [r7, #28]
 3187 0542 DA88     		ldrh	r2, [r3, #6]
 3188 0544 FB69     		ldr	r3, [r7, #28]
 3189 0546 DB69     		ldr	r3, [r3, #28]
 3190 0548 9BB2     		uxth	r3, r3
 3191 054a FFF7FEFF 		bl	USB_WritePMA
 3192 054e 25E0     		b	.L123
 3193              	.L116:
ARM GAS  /tmp/cc1Tfh18.s 			page 80


1372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           else
1375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           {
1376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             /*read from endpoint BUF1Addr buffer*/
1377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             ep->xfer_count = PCD_GET_EP_DBUF1_CNT(hpcd->Instance, ep->num);
 3194              		.loc 1 1377 0
 3195 0550 7B68     		ldr	r3, [r7, #4]
 3196 0552 1B68     		ldr	r3, [r3]
 3197 0554 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3198 0558 9BB2     		uxth	r3, r3
 3199 055a 1A46     		mov	r2, r3
 3200 055c FB69     		ldr	r3, [r7, #28]
 3201 055e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3202 0560 DB00     		lsls	r3, r3, #3
 3203 0562 1344     		add	r3, r3, r2
 3204 0564 0633     		adds	r3, r3, #6
 3205 0566 5B00     		lsls	r3, r3, #1
 3206 0568 7A68     		ldr	r2, [r7, #4]
 3207 056a 1268     		ldr	r2, [r2]
 3208 056c 1344     		add	r3, r3, r2
 3209 056e 03F58063 		add	r3, r3, #1024
 3210 0572 1B68     		ldr	r3, [r3]
 3211 0574 9BB2     		uxth	r3, r3
 3212 0576 C3F30902 		ubfx	r2, r3, #0, #10
 3213 057a FB69     		ldr	r3, [r7, #28]
 3214 057c DA61     		str	r2, [r3, #28]
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             if (ep->xfer_count != 0U)
 3215              		.loc 1 1378 0
 3216 057e FB69     		ldr	r3, [r7, #28]
 3217 0580 DB69     		ldr	r3, [r3, #28]
 3218 0582 002B     		cmp	r3, #0
 3219 0584 0AD0     		beq	.L123
1379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             {
1380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****               USB_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr1, ep->xfer_count);
 3220              		.loc 1 1380 0
 3221 0586 7B68     		ldr	r3, [r7, #4]
 3222 0588 1868     		ldr	r0, [r3]
 3223 058a FB69     		ldr	r3, [r7, #28]
 3224 058c 5969     		ldr	r1, [r3, #20]
 3225 058e FB69     		ldr	r3, [r7, #28]
 3226 0590 1A89     		ldrh	r2, [r3, #8]
 3227 0592 FB69     		ldr	r3, [r7, #28]
 3228 0594 DB69     		ldr	r3, [r3, #28]
 3229 0596 9BB2     		uxth	r3, r3
 3230 0598 FFF7FEFF 		bl	USB_WritePMA
 3231              	.L123:
1381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****             }
1382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           }
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           PCD_FreeUserBuffer(hpcd->Instance, ep->num, PCD_EP_DBUF_IN);  
 3232              		.loc 1 1383 0 discriminator 3
 3233 059c 7B68     		ldr	r3, [r7, #4]
 3234 059e 1B68     		ldr	r3, [r3]
 3235 05a0 1A46     		mov	r2, r3
 3236 05a2 FB69     		ldr	r3, [r7, #28]
 3237 05a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3238 05a6 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/cc1Tfh18.s 			page 81


 3239 05a8 1344     		add	r3, r3, r2
 3240 05aa 1B88     		ldrh	r3, [r3]	@ movhi
 3241 05ac 9AB2     		uxth	r2, r3
 3242 05ae 40F60F73 		movw	r3, #3855
 3243 05b2 1340     		ands	r3, r3, r2
 3244 05b4 99B2     		uxth	r1, r3
 3245 05b6 7B68     		ldr	r3, [r7, #4]
 3246 05b8 1B68     		ldr	r3, [r3]
 3247 05ba 1A46     		mov	r2, r3
 3248 05bc FB69     		ldr	r3, [r7, #28]
 3249 05be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3250 05c0 9B00     		lsls	r3, r3, #2
 3251 05c2 1A44     		add	r2, r2, r3
 3252 05c4 224B     		ldr	r3, .L126
 3253 05c6 0B43     		orrs	r3, r3, r1
 3254 05c8 9BB2     		uxth	r3, r3
 3255 05ca 1380     		strh	r3, [r2]	@ movhi
 3256              	.L115:
1384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /*multi-packet on the NON control IN endpoint*/
1386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 3257              		.loc 1 1386 0
 3258 05cc 7B68     		ldr	r3, [r7, #4]
 3259 05ce 1B68     		ldr	r3, [r3]
 3260 05d0 B3F85030 		ldrh	r3, [r3, #80]	@ movhi
 3261 05d4 9BB2     		uxth	r3, r3
 3262 05d6 1A46     		mov	r2, r3
 3263 05d8 FB69     		ldr	r3, [r7, #28]
 3264 05da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3265 05dc DB00     		lsls	r3, r3, #3
 3266 05de 1344     		add	r3, r3, r2
 3267 05e0 0233     		adds	r3, r3, #2
 3268 05e2 5B00     		lsls	r3, r3, #1
 3269 05e4 7A68     		ldr	r2, [r7, #4]
 3270 05e6 1268     		ldr	r2, [r2]
 3271 05e8 1344     		add	r3, r3, r2
 3272 05ea 03F58063 		add	r3, r3, #1024
 3273 05ee 1B68     		ldr	r3, [r3]
 3274 05f0 9BB2     		uxth	r3, r3
 3275 05f2 C3F30902 		ubfx	r2, r3, #0, #10
 3276 05f6 FB69     		ldr	r3, [r7, #28]
 3277 05f8 DA61     		str	r2, [r3, #28]
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         ep->xfer_buff+=ep->xfer_count;
 3278              		.loc 1 1387 0
 3279 05fa FB69     		ldr	r3, [r7, #28]
 3280 05fc 5A69     		ldr	r2, [r3, #20]
 3281 05fe FB69     		ldr	r3, [r7, #28]
 3282 0600 DB69     		ldr	r3, [r3, #28]
 3283 0602 1A44     		add	r2, r2, r3
 3284 0604 FB69     		ldr	r3, [r7, #28]
 3285 0606 5A61     		str	r2, [r3, #20]
1388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****        
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         /* Zero Length Packet? */
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         if (ep->xfer_len == 0U)
 3286              		.loc 1 1390 0
 3287 0608 FB69     		ldr	r3, [r7, #28]
 3288 060a 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/cc1Tfh18.s 			page 82


 3289 060c 002B     		cmp	r3, #0
 3290 060e 06D1     		bne	.L119
1391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           /* TX COMPLETE */
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_DataInStageCallback(hpcd, ep->num);
 3291              		.loc 1 1393 0
 3292 0610 FB69     		ldr	r3, [r7, #28]
 3293 0612 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3294 0614 1946     		mov	r1, r3
 3295 0616 7868     		ldr	r0, [r7, #4]
 3296 0618 FFF7FEFF 		bl	HAL_PCD_DataInStageCallback
 3297 061c 08E0     		b	.L93
 3298              	.L119:
1394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         else
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         {
1397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****           HAL_PCD_EP_Transmit(hpcd, ep->num, ep->xfer_buff, ep->xfer_len);
 3299              		.loc 1 1397 0
 3300 061e FB69     		ldr	r3, [r7, #28]
 3301 0620 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3302 0622 FB69     		ldr	r3, [r7, #28]
 3303 0624 5A69     		ldr	r2, [r3, #20]
 3304 0626 FB69     		ldr	r3, [r7, #28]
 3305 0628 9B69     		ldr	r3, [r3, #24]
 3306 062a 7868     		ldr	r0, [r7, #4]
 3307 062c FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 3308              	.L93:
1214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   {
 3309              		.loc 1 1214 0
 3310 0630 7B68     		ldr	r3, [r7, #4]
 3311 0632 1B68     		ldr	r3, [r3]
 3312 0634 B3F84430 		ldrh	r3, [r3, #68]	@ movhi
 3313 0638 9BB2     		uxth	r3, r3
 3314 063a 1A46     		mov	r2, r3	@ movhi
 3315 063c FA81     		strh	r2, [r7, #14]	@ movhi
 3316 063e 1BB2     		sxth	r3, r3
 3317 0640 002B     		cmp	r3, #0
 3318 0642 FFF6ECAC 		blt	.L120
1398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****         }
1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****       } 
1400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****     }
1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   }
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c ****   return HAL_OK;
 3319              		.loc 1 1402 0
 3320 0646 0023     		movs	r3, #0
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_pcd.c **** }
 3321              		.loc 1 1403 0
 3322 0648 1846     		mov	r0, r3
 3323 064a 2437     		adds	r7, r7, #36
 3324              	.LCFI178:
 3325              		.cfi_def_cfa_offset 12
 3326 064c BD46     		mov	sp, r7
 3327              	.LCFI179:
 3328              		.cfi_def_cfa_register 13
 3329              		@ sp needed
 3330 064e 90BD     		pop	{r4, r7, pc}
 3331              	.L127:
ARM GAS  /tmp/cc1Tfh18.s 			page 83


 3332              		.align	2
 3333              	.L126:
 3334 0650 80C0FFFF 		.word	-16256
 3335              		.cfi_endproc
 3336              	.LFE98:
 3338              		.text
 3339              	.Letext0:
 3340              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 3341              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 3342              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 3343              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 3344              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 3345              		.file 7 "/usr/include/newlib/sys/lock.h"
 3346              		.file 8 "/usr/include/newlib/sys/_types.h"
 3347              		.file 9 "/usr/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h"
 3348              		.file 10 "/usr/include/newlib/sys/reent.h"
 3349              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 3350              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_usb.h"
 3351              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_pcd.h"
ARM GAS  /tmp/cc1Tfh18.s 			page 84


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f1xx_hal_pcd.c
     /tmp/cc1Tfh18.s:16     .text.HAL_PCD_Init:0000000000000000 $t
     /tmp/cc1Tfh18.s:23     .text.HAL_PCD_Init:0000000000000000 HAL_PCD_Init
     /tmp/cc1Tfh18.s:364    .text.HAL_PCD_MspInit:0000000000000000 HAL_PCD_MspInit
     /tmp/cc1Tfh18.s:293    .text.HAL_PCD_DeInit:0000000000000000 $t
     /tmp/cc1Tfh18.s:300    .text.HAL_PCD_DeInit:0000000000000000 HAL_PCD_DeInit
     /tmp/cc1Tfh18.s:523    .text.HAL_PCD_Stop:0000000000000000 HAL_PCD_Stop
     /tmp/cc1Tfh18.s:407    .text.HAL_PCD_MspDeInit:0000000000000000 HAL_PCD_MspDeInit
     /tmp/cc1Tfh18.s:357    .text.HAL_PCD_MspInit:0000000000000000 $t
     /tmp/cc1Tfh18.s:400    .text.HAL_PCD_MspDeInit:0000000000000000 $t
     /tmp/cc1Tfh18.s:443    .text.HAL_PCD_Start:0000000000000000 $t
     /tmp/cc1Tfh18.s:450    .text.HAL_PCD_Start:0000000000000000 HAL_PCD_Start
     /tmp/cc1Tfh18.s:516    .text.HAL_PCD_Stop:0000000000000000 $t
     /tmp/cc1Tfh18.s:590    .text.HAL_PCD_IRQHandler:0000000000000000 $t
     /tmp/cc1Tfh18.s:597    .text.HAL_PCD_IRQHandler:0000000000000000 HAL_PCD_IRQHandler
     /tmp/cc1Tfh18.s:2477   .text.PCD_EP_ISR_Handler:0000000000000000 PCD_EP_ISR_Handler
     /tmp/cc1Tfh18.s:1030   .text.HAL_PCD_ResetCallback:0000000000000000 HAL_PCD_ResetCallback
     /tmp/cc1Tfh18.s:1471   .text.HAL_PCD_SetAddress:0000000000000000 HAL_PCD_SetAddress
     /tmp/cc1Tfh18.s:1116   .text.HAL_PCD_ResumeCallback:0000000000000000 HAL_PCD_ResumeCallback
     /tmp/cc1Tfh18.s:1073   .text.HAL_PCD_SuspendCallback:0000000000000000 HAL_PCD_SuspendCallback
     /tmp/cc1Tfh18.s:987    .text.HAL_PCD_SOFCallback:0000000000000000 HAL_PCD_SOFCallback
     /tmp/cc1Tfh18.s:847    .text.HAL_PCD_DataOutStageCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:854    .text.HAL_PCD_DataOutStageCallback:0000000000000000 HAL_PCD_DataOutStageCallback
     /tmp/cc1Tfh18.s:892    .text.HAL_PCD_DataInStageCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:899    .text.HAL_PCD_DataInStageCallback:0000000000000000 HAL_PCD_DataInStageCallback
     /tmp/cc1Tfh18.s:937    .text.HAL_PCD_SetupStageCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:944    .text.HAL_PCD_SetupStageCallback:0000000000000000 HAL_PCD_SetupStageCallback
     /tmp/cc1Tfh18.s:980    .text.HAL_PCD_SOFCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1023   .text.HAL_PCD_ResetCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1066   .text.HAL_PCD_SuspendCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1109   .text.HAL_PCD_ResumeCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1152   .text.HAL_PCD_ISOOUTIncompleteCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1159   .text.HAL_PCD_ISOOUTIncompleteCallback:0000000000000000 HAL_PCD_ISOOUTIncompleteCallback
     /tmp/cc1Tfh18.s:1197   .text.HAL_PCD_ISOINIncompleteCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1204   .text.HAL_PCD_ISOINIncompleteCallback:0000000000000000 HAL_PCD_ISOINIncompleteCallback
     /tmp/cc1Tfh18.s:1242   .text.HAL_PCD_ConnectCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1249   .text.HAL_PCD_ConnectCallback:0000000000000000 HAL_PCD_ConnectCallback
     /tmp/cc1Tfh18.s:1285   .text.HAL_PCD_DisconnectCallback:0000000000000000 $t
     /tmp/cc1Tfh18.s:1292   .text.HAL_PCD_DisconnectCallback:0000000000000000 HAL_PCD_DisconnectCallback
     /tmp/cc1Tfh18.s:1328   .text.HAL_PCD_DevConnect:0000000000000000 $t
     /tmp/cc1Tfh18.s:1335   .text.HAL_PCD_DevConnect:0000000000000000 HAL_PCD_DevConnect
     /tmp/cc1Tfh18.s:1396   .text.HAL_PCD_DevDisconnect:0000000000000000 $t
     /tmp/cc1Tfh18.s:1403   .text.HAL_PCD_DevDisconnect:0000000000000000 HAL_PCD_DevDisconnect
     /tmp/cc1Tfh18.s:1464   .text.HAL_PCD_SetAddress:0000000000000000 $t
     /tmp/cc1Tfh18.s:1536   .text.HAL_PCD_EP_Open:0000000000000000 $t
     /tmp/cc1Tfh18.s:1543   .text.HAL_PCD_EP_Open:0000000000000000 HAL_PCD_EP_Open
     /tmp/cc1Tfh18.s:1661   .text.HAL_PCD_EP_Close:0000000000000000 $t
     /tmp/cc1Tfh18.s:1668   .text.HAL_PCD_EP_Close:0000000000000000 HAL_PCD_EP_Close
     /tmp/cc1Tfh18.s:1768   .text.HAL_PCD_EP_Receive:0000000000000000 $t
     /tmp/cc1Tfh18.s:1775   .text.HAL_PCD_EP_Receive:0000000000000000 HAL_PCD_EP_Receive
     /tmp/cc1Tfh18.s:1866   .text.HAL_PCD_EP_GetRxCount:0000000000000000 $t
     /tmp/cc1Tfh18.s:1873   .text.HAL_PCD_EP_GetRxCount:0000000000000000 HAL_PCD_EP_GetRxCount
     /tmp/cc1Tfh18.s:1921   .text.HAL_PCD_EP_Transmit:0000000000000000 $t
     /tmp/cc1Tfh18.s:1928   .text.HAL_PCD_EP_Transmit:0000000000000000 HAL_PCD_EP_Transmit
     /tmp/cc1Tfh18.s:2019   .text.HAL_PCD_EP_SetStall:0000000000000000 $t
     /tmp/cc1Tfh18.s:2026   .text.HAL_PCD_EP_SetStall:0000000000000000 HAL_PCD_EP_SetStall
ARM GAS  /tmp/cc1Tfh18.s 			page 85


     /tmp/cc1Tfh18.s:2143   .text.HAL_PCD_EP_ClrStall:0000000000000000 $t
     /tmp/cc1Tfh18.s:2150   .text.HAL_PCD_EP_ClrStall:0000000000000000 HAL_PCD_EP_ClrStall
     /tmp/cc1Tfh18.s:2253   .text.HAL_PCD_EP_Flush:0000000000000000 $t
     /tmp/cc1Tfh18.s:2260   .text.HAL_PCD_EP_Flush:0000000000000000 HAL_PCD_EP_Flush
     /tmp/cc1Tfh18.s:2334   .text.HAL_PCD_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/cc1Tfh18.s:2341   .text.HAL_PCD_ActivateRemoteWakeup:0000000000000000 HAL_PCD_ActivateRemoteWakeup
     /tmp/cc1Tfh18.s:2379   .text.HAL_PCD_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/cc1Tfh18.s:2386   .text.HAL_PCD_DeActivateRemoteWakeup:0000000000000000 HAL_PCD_DeActivateRemoteWakeup
     /tmp/cc1Tfh18.s:2424   .text.HAL_PCD_GetState:0000000000000000 $t
     /tmp/cc1Tfh18.s:2431   .text.HAL_PCD_GetState:0000000000000000 HAL_PCD_GetState
     /tmp/cc1Tfh18.s:2471   .text.PCD_EP_ISR_Handler:0000000000000000 $t
     /tmp/cc1Tfh18.s:3139   .text.PCD_EP_ISR_Handler:00000000000004e0 $d
     /tmp/cc1Tfh18.s:3143   .text.PCD_EP_ISR_Handler:00000000000004e8 $t
     /tmp/cc1Tfh18.s:3334   .text.PCD_EP_ISR_Handler:0000000000000650 $d

UNDEFINED SYMBOLS
USB_DisableGlobalInt
USB_CoreInit
USB_SetCurrentMode
USB_DevInit
USB_DevDisconnect
HAL_PCDEx_SetConnectionState
USB_DevConnect
USB_EnableGlobalInt
USB_StopDevice
USB_ReadInterrupts
USB_SetDevAddress
USB_ActivateEndpoint
USB_DeactivateEndpoint
USB_EPStartXfer
USB_EPSetStall
USB_EP0_OutStart
USB_EPClearStall
USB_FlushTxFifo
USB_FlushRxFifo
USB_ActivateRemoteWakeup
USB_DeActivateRemoteWakeup
USB_ReadPMA
USB_WritePMA
